<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="sw1kwon">
<meta name="dcterms.date" content="2025-07-25">

<title>President Election 14th ~ 21st (v4.1 ~ v4.3) – Elections</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-0626ff4d7a71b55c8707dcae1d04a9b6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-3f453be5ec2ee49e579b43b94346acdb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Elections</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">President Election 14th ~ 21st (v4.1 ~ v4.3)</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">president</div>
                <div class="quarto-category">temp-v4</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>sw1kwon </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 25, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#functions" id="toc-functions" class="nav-link active" data-scroll-target="#functions">Functions</a></li>
  <li><a href="#preprocessing-merge" id="toc-preprocessing-merge" class="nav-link" data-scroll-target="#preprocessing-merge">Preprocessing &amp; Merge</a></li>
  <li><a href="#th_1992" id="toc-th_1992" class="nav-link" data-scroll-target="#th_1992">14th_1992</a>
  <ul class="collapse">
  <li><a href="#preprocessing" id="toc-preprocessing" class="nav-link" data-scroll-target="#preprocessing">preprocessing</a></li>
  <li><a href="#v4.1-v4.3" id="toc-v4.1-v4.3" class="nav-link" data-scroll-target="#v4.1-v4.3">v4.1 ~ v4.3</a></li>
  </ul></li>
  <li><a href="#th_1997" id="toc-th_1997" class="nav-link" data-scroll-target="#th_1997">15th_1997</a>
  <ul class="collapse">
  <li><a href="#preprocessing-1" id="toc-preprocessing-1" class="nav-link" data-scroll-target="#preprocessing-1">preprocessing</a></li>
  <li><a href="#v4.1-v4.3-1" id="toc-v4.1-v4.3-1" class="nav-link" data-scroll-target="#v4.1-v4.3-1">v4.1 ~ v4.3</a></li>
  </ul></li>
  <li><a href="#th_2002" id="toc-th_2002" class="nav-link" data-scroll-target="#th_2002">16th_2002</a>
  <ul class="collapse">
  <li><a href="#preprocessing-2" id="toc-preprocessing-2" class="nav-link" data-scroll-target="#preprocessing-2">preprocessing</a></li>
  <li><a href="#v4.1-v4.3-2" id="toc-v4.1-v4.3-2" class="nav-link" data-scroll-target="#v4.1-v4.3-2">v4.1 ~ v4.3</a></li>
  </ul></li>
  <li><a href="#th_2007" id="toc-th_2007" class="nav-link" data-scroll-target="#th_2007">17th_2007</a>
  <ul class="collapse">
  <li><a href="#preprocessing-3" id="toc-preprocessing-3" class="nav-link" data-scroll-target="#preprocessing-3">preprocessing</a></li>
  <li><a href="#v4.1-v4.3-3" id="toc-v4.1-v4.3-3" class="nav-link" data-scroll-target="#v4.1-v4.3-3">v4.1 ~ v4.3</a></li>
  </ul></li>
  <li><a href="#th_2012" id="toc-th_2012" class="nav-link" data-scroll-target="#th_2012">18th_2012</a>
  <ul class="collapse">
  <li><a href="#preprocessing-4" id="toc-preprocessing-4" class="nav-link" data-scroll-target="#preprocessing-4">preprocessing</a></li>
  <li><a href="#v4.1-v4.3-4" id="toc-v4.1-v4.3-4" class="nav-link" data-scroll-target="#v4.1-v4.3-4">v4.1 ~ v4.3</a></li>
  </ul></li>
  <li><a href="#th_2017" id="toc-th_2017" class="nav-link" data-scroll-target="#th_2017">19th_2017</a>
  <ul class="collapse">
  <li><a href="#preprocessing-5" id="toc-preprocessing-5" class="nav-link" data-scroll-target="#preprocessing-5">preprocessing</a></li>
  <li><a href="#v4.1-v4.3-5" id="toc-v4.1-v4.3-5" class="nav-link" data-scroll-target="#v4.1-v4.3-5">v4.1 ~ v4.3</a></li>
  </ul></li>
  <li><a href="#th_2022" id="toc-th_2022" class="nav-link" data-scroll-target="#th_2022">20th_2022</a>
  <ul class="collapse">
  <li><a href="#preprocessing-6" id="toc-preprocessing-6" class="nav-link" data-scroll-target="#preprocessing-6">preprocessing</a></li>
  <li><a href="#v4.1-v4.3-6" id="toc-v4.1-v4.3-6" class="nav-link" data-scroll-target="#v4.1-v4.3-6">v4.1 ~ v4.3</a></li>
  </ul></li>
  <li><a href="#st_2025" id="toc-st_2025" class="nav-link" data-scroll-target="#st_2025">21st_2025</a>
  <ul class="collapse">
  <li><a href="#preprocessing-7" id="toc-preprocessing-7" class="nav-link" data-scroll-target="#preprocessing-7">preprocessing</a></li>
  <li><a href="#v4.1-v4.3-7" id="toc-v4.1-v4.3-7" class="nav-link" data-scroll-target="#v4.1-v4.3-7">v4.1 ~ v4.3</a></li>
  </ul></li>
  <li><a href="#batch-csv-files-to-zip" id="toc-batch-csv-files-to-zip" class="nav-link" data-scroll-target="#batch-csv-files-to-zip">Batch CSV Files to ZIP</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="functions" class="level1">
<h1>Functions</h1>
<div id="cell-2" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> Dict, Tuple</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_election_data(election_number: <span class="bu">str</span>) <span class="op">-&gt;</span> pd.DataFrame:</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">    특정 선거 회차의 데이터를 처리하여 병합된 결과를 반환</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">        election_number (str): 선거 회차 (예: '14', '15', '16' 등)</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">        pd.DataFrame: 병합된 선거 데이터</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># URL 생성</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    df1_url <span class="op">=</span> <span class="ss">f"https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_</span><span class="sc">{</span>election_number<span class="sc">}</span><span class="ss">.csv"</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    df2_url <span class="op">=</span> <span class="ss">f"https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_</span><span class="sc">{</span>election_number<span class="sc">}</span><span class="ss">.csv"</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"=== </span><span class="sc">{</span>election_number<span class="sc">}</span><span class="ss">회 대선 데이터 처리 시작 ==="</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"상세 데이터 URL: </span><span class="sc">{</span>df1_url<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"요약 데이터 URL: </span><span class="sc">{</span>df2_url<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 첫 번째 CSV 파일 처리 (상세 득표 데이터)</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>        df1 <span class="op">=</span> pd.read_csv(df1_url)</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"상세 데이터 로드 완료: </span><span class="sc">{</span>df1<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 득표수_{숫자}_정당_이름 패턴의 컬럼들 찾기</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>        vote_columns <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df1.columns <span class="cf">if</span> col.startswith(<span class="st">'득표수_'</span>) <span class="kw">and</span> col <span class="op">!=</span> <span class="st">'득표수_계'</span>]</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"득표수 관련 컬럼 수: </span><span class="sc">{</span><span class="bu">len</span>(vote_columns)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 각 행별로 1위와 2위 후보의 번호 찾기</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> find_top_two_candidates(row):</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>            vote_data <span class="op">=</span> []</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>            <span class="co"># 모든 후보의 득표수와 번호를 수집</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> col <span class="kw">in</span> vote_columns:</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>                votes <span class="op">=</span> row[col] <span class="cf">if</span> pd.notna(row[col]) <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>                <span class="co"># 컬럼명에서 숫자 추출</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>                match <span class="op">=</span> re.search(<span class="vs">r'득표수_(\d+)_'</span>, col)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> match:</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>                    candidate_number <span class="op">=</span> <span class="bu">int</span>(match.group(<span class="dv">1</span>))</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>                    vote_data.append((votes, candidate_number, col))</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>            <span class="co"># 득표수 기준으로 내림차순 정렬</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>            vote_data.sort(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">0</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>            <span class="co"># 1위와 2위 후보 반환</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>            first_place <span class="op">=</span> vote_data[<span class="dv">0</span>] <span class="cf">if</span> <span class="bu">len</span>(vote_data) <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> (<span class="dv">0</span>, <span class="va">None</span>, <span class="va">None</span>)</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>            second_place <span class="op">=</span> vote_data[<span class="dv">1</span>] <span class="cf">if</span> <span class="bu">len</span>(vote_data) <span class="op">&gt;</span> <span class="dv">1</span> <span class="cf">else</span> (<span class="dv">0</span>, <span class="va">None</span>, <span class="va">None</span>)</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> first_place, second_place</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 1위 후보 번호 찾기</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> find_winner_number(row):</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>            first_place, _ <span class="op">=</span> find_top_two_candidates(row)</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> first_place[<span class="dv">1</span>]</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 2위 후보 번호 찾기</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> find_second_number(row):</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>            _, second_place <span class="op">=</span> find_top_two_candidates(row)</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> second_place[<span class="dv">1</span>]</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 1위 득표율 계산</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> calculate_vote_rate_1st(row):</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>            first_place, _ <span class="op">=</span> find_top_two_candidates(row)</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>            max_votes <span class="op">=</span> first_place[<span class="dv">0</span>]</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>            total_votes <span class="op">=</span> row[<span class="st">'득표수_계'</span>] <span class="cf">if</span> pd.notna(row[<span class="st">'득표수_계'</span>]) <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> total_votes <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> max_votes <span class="op">/</span> total_votes</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 2위 득표율 계산</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>        <span class="kw">def</span> calculate_vote_rate_2nd(row):</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>            _, second_place <span class="op">=</span> find_top_two_candidates(row)</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>            second_votes <span class="op">=</span> second_place[<span class="dv">0</span>]</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>            total_votes <span class="op">=</span> row[<span class="st">'득표수_계'</span>] <span class="cf">if</span> pd.notna(row[<span class="st">'득표수_계'</span>]) <span class="cf">else</span> <span class="dv">0</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> total_votes <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> second_votes <span class="op">/</span> total_votes</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>                <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 새로운 컬럼 추가 (1위, 2위)</span></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>        df1[<span class="st">'득표_1위_후보번호'</span>] <span class="op">=</span> df1.<span class="bu">apply</span>(find_winner_number, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>        df1[<span class="st">'득표_1위_득표율'</span>] <span class="op">=</span> df1.<span class="bu">apply</span>(calculate_vote_rate_1st, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>        df1[<span class="st">'득표_2위_후보번호'</span>] <span class="op">=</span> df1.<span class="bu">apply</span>(find_second_number, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>        df1[<span class="st">'득표_2위_득표율'</span>] <span class="op">=</span> df1.<span class="bu">apply</span>(calculate_vote_rate_2nd, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 정당 카테고리 매핑 딕셔너리 (회차별로 다를 수 있음)</span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 예: vote_columns = ['득표수_1_민주자유당_김영삼', '득표수_2_민주당_김대중', ...]</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>        <span class="co"># -&gt; get_category_mapping이 실제 존재하는 후보번호만 찾아서 매핑 생성</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>        category_mapping <span class="op">=</span> get_category_mapping(election_number, vote_columns)</span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"생성된 카테고리 매핑: </span><span class="sc">{</span>category_mapping<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 1위, 2위 후보번호를 카테고리로 매핑</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>        <span class="co"># fillna()로 매핑되지 않은 후보는 '기타'로 처리</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>        df1[<span class="st">'득표_1위_정당'</span>] <span class="op">=</span> df1[<span class="st">'득표_1위_후보번호'</span>].<span class="bu">map</span>(category_mapping).fillna(<span class="st">'기타'</span>)</span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>        df1[<span class="st">'득표_2위_정당'</span>] <span class="op">=</span> df1[<span class="st">'득표_2위_후보번호'</span>].<span class="bu">map</span>(category_mapping).fillna(<span class="st">'기타'</span>)</span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 매핑 결과 확인</span></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"매핑 후 1위 정당 분포 (처리 중):"</span>)</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(df1[<span class="st">'득표_1위_정당'</span>].value_counts())</span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 매핑되지 않은 후보 확인</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>        unmapped_1st <span class="op">=</span> df1[df1[<span class="st">'득표_1위_정당'</span>] <span class="op">==</span> <span class="st">'기타'</span>][<span class="st">'득표_1위_후보번호'</span>].unique()</span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>        unmapped_2nd <span class="op">=</span> df1[df1[<span class="st">'득표_2위_정당'</span>] <span class="op">==</span> <span class="st">'기타'</span>][<span class="st">'득표_2위_후보번호'</span>].unique()</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(unmapped_1st) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"경고: 1위에서 매핑되지 않은 후보번호: </span><span class="sc">{</span>unmapped_1st<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(unmapped_2nd) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"경고: 2위에서 매핑되지 않은 후보번호: </span><span class="sc">{</span>unmapped_2nd<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 카테고리별 후보자 수 계산 (모든 카테고리 포함)</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>        candidate_counts <span class="op">=</span> {}</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>        all_categories <span class="op">=</span> [<span class="st">'보수정당'</span>, <span class="st">'진보정당'</span>, <span class="st">'그외정당'</span>, <span class="st">'무소속'</span>]</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 먼저 모든 카테고리를 0으로 초기화</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> category <span class="kw">in</span> all_categories:</span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>            candidate_counts[category] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 실제 매핑에서 카운트</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> candidate_num, category <span class="kw">in</span> category_mapping.items():</span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> category <span class="kw">in</span> candidate_counts:</span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>                candidate_counts[category] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>                candidate_counts[category] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"카테고리별 후보자 수: </span><span class="sc">{</span>candidate_counts<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 각 카테고리별로 개별 컬럼 생성 (없는 카테고리도 0으로 포함)</span></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> category <span class="kw">in</span> all_categories:</span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a>            candidate_count <span class="op">=</span> candidate_counts.get(category, <span class="dv">0</span>)  <span class="co"># 없으면 0</span></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a>            df1[<span class="ss">f'</span><span class="sc">{</span>category<span class="sc">}</span><span class="ss">_후보자수'</span>] <span class="op">=</span> candidate_count</span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>category<span class="sc">}</span><span class="ss">_후보자수: </span><span class="sc">{</span>candidate_count<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 필요한 컬럼들만 선택 (병합용)</span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a>        merge_columns <span class="op">=</span> [<span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>, <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a>                         <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>] <span class="op">+</span> [<span class="ss">f'</span><span class="sc">{</span>cat<span class="sc">}</span><span class="ss">_후보자수'</span> <span class="cf">for</span> cat <span class="kw">in</span> all_categories]</span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a>        df1_for_merge <span class="op">=</span> df1[merge_columns].copy()</span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 두 번째 CSV 파일 읽기 (요약 데이터)</span></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a>        df2 <span class="op">=</span> pd.read_csv(df2_url)</span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"요약 데이터 로드 완료: </span><span class="sc">{</span>df2<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 시도, 구시군을 키로 하여 병합</span></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a>        merged_df <span class="op">=</span> pd.merge(df2, df1_for_merge, on<span class="op">=</span>[<span class="st">'시도'</span>, <span class="st">'구시군'</span>], how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 병합 결과 검증</span></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a>        missing_data <span class="op">=</span> merged_df[merged_df[<span class="st">'득표_1위_후보번호'</span>].isna()]</span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(missing_data) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"경고: 병합되지 않은 데이터가 </span><span class="sc">{</span><span class="bu">len</span>(missing_data)<span class="sc">}</span><span class="ss">개 있습니다"</span>)</span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"모든 데이터가 성공적으로 병합되었습니다!"</span>)</span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"최종 데이터 형태: </span><span class="sc">{</span>merged_df<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"1위 정당 분포:"</span>)</span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(merged_df[<span class="st">'득표_1위_정당'</span>].value_counts())</span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"=== </span><span class="sc">{</span>election_number<span class="sc">}</span><span class="ss">회 대선 데이터 처리 완료 ===</span><span class="ch">\n</span><span class="ss">"</span>)</span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> merged_df</span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"오류 발생: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_category_mapping(election_number: <span class="bu">str</span>, vote_columns: <span class="bu">list</span>) <span class="op">-&gt;</span> Dict[<span class="bu">int</span>, <span class="bu">str</span>]:</span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a><span class="co">    선거 회차별로 정당 카테고리 매핑을 반환</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a><span class="co">    각 선거마다 후보자와 정당이 다르므로 수동으로 설정 필요</span></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a><span class="co">        election_number: 선거 회차</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a><span class="co">        vote_columns: 득표수 컬럼 리스트 (후보 확인용)</span></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a><span class="co">        해당 선거의 후보번호별 카테고리 매핑</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">=== </span><span class="sc">{</span>election_number<span class="sc">}</span><span class="ss">회 선거 후보 정보 ==="</span>)</span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"실제 후보 컬럼들:"</span>)</span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> vote_columns:</span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 선거 회차별 매핑 설정</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> election_number <span class="op">==</span> <span class="st">'14'</span>:  <span class="co"># 14회 대선 (1992년)</span></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'보수정당'</span>,    <span class="co"># 민주자유당_김영삼</span></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'진보정당'</span>,    <span class="co"># 민주당_김대중</span></span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a>            <span class="dv">3</span>: <span class="st">'그외정당'</span>,    <span class="co"># 통일국민당_정주영</span></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'그외정당'</span>,    <span class="co"># 신정치개혁당_박찬종</span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a>            <span class="dv">6</span>: <span class="st">'그외정당'</span>,    <span class="co"># 대한정의당_이병호</span></span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a>            <span class="dv">7</span>: <span class="st">'무소속'</span>,      <span class="co"># 무소속_김옥선</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a>            <span class="dv">8</span>: <span class="st">'무소속'</span>       <span class="co"># 무소속_백기완</span></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> election_number <span class="op">==</span> <span class="st">'15'</span>:  <span class="co"># 15회 대선 (1997년) - 예시</span></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'보수정당'</span>,    <span class="co"># 한나라당_이회창</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'진보정당'</span>,    <span class="co"># 새정치국민회의_김대중</span></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a>            <span class="dv">3</span>: <span class="st">'그외정당'</span>,    <span class="co"># 국민신당_이인제</span></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a>            <span class="dv">4</span>: <span class="st">'그외정당'</span>,    <span class="co"># 민주당_권영길</span></span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a>            <span class="dv">6</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a>            <span class="dv">7</span>: <span class="st">'그외정당'</span></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> election_number <span class="op">==</span> <span class="st">'16'</span>:  <span class="co"># 16회 대선 (2002년) - 예시</span></span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'보수정당'</span>,    <span class="co"># 한나라당_이회창</span></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'진보정당'</span>,    <span class="co"># 새천년민주당_노무현</span></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a>            <span class="dv">3</span>: <span class="st">'그외정당'</span>,    <span class="co"># 국민통합21_정몽준</span></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a>            <span class="dv">4</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a>            <span class="dv">6</span>: <span class="st">'그외정당'</span></span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> election_number <span class="op">==</span> <span class="st">'17'</span>:  <span class="co"># 17회 대선 (2007년) - 예시</span></span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'진보정당'</span>,</span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'보수정당'</span>,</span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a>            <span class="dv">3</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a>            <span class="dv">4</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a>            <span class="dv">6</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a>            <span class="dv">7</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a>            <span class="dv">8</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a>            <span class="dv">9</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a>            <span class="dv">10</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a>            <span class="dv">11</span>: <span class="st">'무소속'</span></span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> election_number <span class="op">==</span> <span class="st">'18'</span>:  <span class="co"># 18회 대선 (2012년) - 예시</span></span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'보수정당'</span>,    <span class="co"># 새누리당_박근혜</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'진보정당'</span>,    <span class="co"># 민주통합당_문재인</span></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a>            <span class="dv">4</span>: <span class="st">'무소속'</span>,</span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'무소속'</span>,</span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a>            <span class="dv">6</span>: <span class="st">'무소속'</span>,</span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a>            <span class="dv">7</span>: <span class="st">'무소속'</span></span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> election_number <span class="op">==</span> <span class="st">'19'</span>:  <span class="co"># 19회 대선 (2017년) - 예시</span></span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'진보정당'</span>,    <span class="co"># 더불어민주당_문재인</span></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'보수정당'</span>,    <span class="co"># 자유한국당_홍준표</span></span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a>            <span class="dv">3</span>: <span class="st">'그외정당'</span>,    <span class="co"># 국민의당_안철수</span></span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a>            <span class="dv">4</span>: <span class="st">'그외정당'</span>,    <span class="co"># 바른정당_유승민</span></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'그외정당'</span>,    <span class="co"># 정의당_심상정</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a>            <span class="dv">6</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a>            <span class="dv">7</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a>            <span class="dv">8</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a>            <span class="dv">9</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a>            <span class="dv">10</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a>            <span class="dv">12</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a>            <span class="dv">14</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a>            <span class="dv">15</span>: <span class="st">'무소속'</span></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> election_number <span class="op">==</span> <span class="st">'20'</span>:  <span class="co"># 20회 대선 (2022년) - 예시</span></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'진보정당'</span>,</span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'보수정당'</span>,</span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a>            <span class="dv">3</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a>            <span class="dv">6</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a>            <span class="dv">7</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a>            <span class="dv">8</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a>            <span class="dv">10</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a>            <span class="dv">11</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a>            <span class="dv">12</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a>            <span class="dv">13</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a>            <span class="dv">14</span>: <span class="st">'그외정당'</span></span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> election_number <span class="op">==</span> <span class="st">'21'</span>:</span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'진보정당'</span>,</span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'보수정당'</span>,</span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a>            <span class="dv">4</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a>            <span class="dv">8</span>: <span class="st">'무소속'</span></span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"경고: </span><span class="sc">{</span>election_number<span class="sc">}</span><span class="ss">회 선거에 대한 매핑이 정의되지 않았습니다."</span>)</span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"기본 매핑을 사용합니다. 수동으로 매핑을 추가해주세요."</span>)</span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 기본 매핑 (수정 필요)</span></span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a>        mapping <span class="op">=</span> {</span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>: <span class="st">'보수정당'</span>,</span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a>            <span class="dv">2</span>: <span class="st">'진보정당'</span>,</span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a>            <span class="dv">3</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a>            <span class="dv">4</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a>            <span class="dv">5</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a>            <span class="dv">6</span>: <span class="st">'그외정당'</span>,</span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a>            <span class="dv">7</span>: <span class="st">'무소속'</span>,</span>
<span id="cb1-301"><a href="#cb1-301" aria-hidden="true" tabindex="-1"></a>            <span class="dv">8</span>: <span class="st">'무소속'</span></span>
<span id="cb1-302"><a href="#cb1-302" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb1-303"><a href="#cb1-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-304"><a href="#cb1-304" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 실제 존재하는 후보 번호만 추출</span></span>
<span id="cb1-305"><a href="#cb1-305" aria-hidden="true" tabindex="-1"></a>    existing_candidates <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb1-306"><a href="#cb1-306" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> vote_columns:</span>
<span id="cb1-307"><a href="#cb1-307" aria-hidden="true" tabindex="-1"></a>        match <span class="op">=</span> re.search(<span class="vs">r'득표수_(\d+)_'</span>, col)</span>
<span id="cb1-308"><a href="#cb1-308" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> match:</span>
<span id="cb1-309"><a href="#cb1-309" aria-hidden="true" tabindex="-1"></a>            existing_candidates.add(<span class="bu">int</span>(match.group(<span class="dv">1</span>)))</span>
<span id="cb1-310"><a href="#cb1-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-311"><a href="#cb1-311" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"실제 존재하는 후보번호: </span><span class="sc">{</span><span class="bu">sorted</span>(existing_candidates)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-312"><a href="#cb1-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-313"><a href="#cb1-313" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 존재하는 후보에 대해서만 매핑 적용</span></span>
<span id="cb1-314"><a href="#cb1-314" aria-hidden="true" tabindex="-1"></a>    filtered_mapping <span class="op">=</span> {k: v <span class="cf">for</span> k, v <span class="kw">in</span> mapping.items() <span class="cf">if</span> k <span class="kw">in</span> existing_candidates}</span>
<span id="cb1-315"><a href="#cb1-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-316"><a href="#cb1-316" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 매핑되지 않은 후보 번호 확인</span></span>
<span id="cb1-317"><a href="#cb1-317" aria-hidden="true" tabindex="-1"></a>    unmapped_candidates <span class="op">=</span> existing_candidates <span class="op">-</span> <span class="bu">set</span>(mapping.keys())</span>
<span id="cb1-318"><a href="#cb1-318" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> unmapped_candidates:</span>
<span id="cb1-319"><a href="#cb1-319" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"경고: 매핑되지 않은 후보번호들: </span><span class="sc">{</span><span class="bu">sorted</span>(unmapped_candidates)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-320"><a href="#cb1-320" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"이 후보들은 '기타' 카테고리로 분류됩니다."</span>)</span>
<span id="cb1-321"><a href="#cb1-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-322"><a href="#cb1-322" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"적용된 매핑: </span><span class="sc">{</span>filtered_mapping<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-323"><a href="#cb1-323" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"="</span> <span class="op">*</span> <span class="dv">50</span>)</span>
<span id="cb1-324"><a href="#cb1-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-325"><a href="#cb1-325" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> filtered_mapping</span>
<span id="cb1-326"><a href="#cb1-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-327"><a href="#cb1-327" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_multiple_elections(election_numbers: <span class="bu">list</span>) <span class="op">-&gt;</span> Dict[<span class="bu">str</span>, pd.DataFrame]:</span>
<span id="cb1-328"><a href="#cb1-328" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb1-329"><a href="#cb1-329" aria-hidden="true" tabindex="-1"></a><span class="co">    여러 선거 회차를 일괄 처리하여 df_숫자 형태로 변수 저장</span></span>
<span id="cb1-330"><a href="#cb1-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-331"><a href="#cb1-331" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb1-332"><a href="#cb1-332" aria-hidden="true" tabindex="-1"></a><span class="co">        election_numbers (list): 처리할 선거 회차 리스트</span></span>
<span id="cb1-333"><a href="#cb1-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-334"><a href="#cb1-334" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb1-335"><a href="#cb1-335" aria-hidden="true" tabindex="-1"></a><span class="co">        Dict[str, pd.DataFrame]: 회차별 처리된 데이터프레임 딕셔너리</span></span>
<span id="cb1-336"><a href="#cb1-336" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb1-337"><a href="#cb1-337" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> {}</span>
<span id="cb1-338"><a href="#cb1-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-339"><a href="#cb1-339" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> election_num <span class="kw">in</span> election_numbers:</span>
<span id="cb1-340"><a href="#cb1-340" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="sc">{</span><span class="st">'='</span><span class="op">*</span><span class="dv">50</span><span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-341"><a href="#cb1-341" aria-hidden="true" tabindex="-1"></a>        result_df <span class="op">=</span> process_election_data(<span class="bu">str</span>(election_num))</span>
<span id="cb1-342"><a href="#cb1-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-343"><a href="#cb1-343" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> result_df <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:</span>
<span id="cb1-344"><a href="#cb1-344" aria-hidden="true" tabindex="-1"></a>            <span class="co"># df_14, df_15 형태로 변수명 지정</span></span>
<span id="cb1-345"><a href="#cb1-345" aria-hidden="true" tabindex="-1"></a>            var_name <span class="op">=</span> <span class="ss">f'df_</span><span class="sc">{</span>election_num<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb1-346"><a href="#cb1-346" aria-hidden="true" tabindex="-1"></a>            results[var_name] <span class="op">=</span> result_df</span>
<span id="cb1-347"><a href="#cb1-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-348"><a href="#cb1-348" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"데이터프레임 저장: </span><span class="sc">{</span>var_name<span class="sc">}</span><span class="ss"> (shape: </span><span class="sc">{</span>result_df<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">)"</span>)</span>
<span id="cb1-349"><a href="#cb1-349" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-350"><a href="#cb1-350" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>election_num<span class="sc">}</span><span class="ss">회 선거 데이터 처리 실패"</span>)</span>
<span id="cb1-351"><a href="#cb1-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-352"><a href="#cb1-352" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> results</span>
<span id="cb1-353"><a href="#cb1-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-354"><a href="#cb1-354" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> save_dataframes_to_globals(election_numbers: <span class="bu">list</span>):</span>
<span id="cb1-355"><a href="#cb1-355" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb1-356"><a href="#cb1-356" aria-hidden="true" tabindex="-1"></a><span class="co">    선거 데이터를 처리하여 글로벌 변수로 저장 (df_14, df_15 등)</span></span>
<span id="cb1-357"><a href="#cb1-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-358"><a href="#cb1-358" aria-hidden="true" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb1-359"><a href="#cb1-359" aria-hidden="true" tabindex="-1"></a><span class="co">        election_numbers (list): 처리할 선거 회차 리스트</span></span>
<span id="cb1-360"><a href="#cb1-360" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb1-361"><a href="#cb1-361" aria-hidden="true" tabindex="-1"></a>    results <span class="op">=</span> process_multiple_elections(election_numbers)</span>
<span id="cb1-362"><a href="#cb1-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-363"><a href="#cb1-363" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 글로벌 변수로 각 데이터프레임 저장</span></span>
<span id="cb1-364"><a href="#cb1-364" aria-hidden="true" tabindex="-1"></a>    global_vars <span class="op">=</span> <span class="bu">globals</span>()</span>
<span id="cb1-365"><a href="#cb1-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-366"><a href="#cb1-366" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> var_name, df <span class="kw">in</span> results.items():</span>
<span id="cb1-367"><a href="#cb1-367" aria-hidden="true" tabindex="-1"></a>        global_vars[var_name] <span class="op">=</span> df</span>
<span id="cb1-368"><a href="#cb1-368" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"글로벌 변수 생성: </span><span class="sc">{</span>var_name<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-369"><a href="#cb1-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-370"><a href="#cb1-370" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">생성된 변수들:"</span>)</span>
<span id="cb1-371"><a href="#cb1-371" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> var_name <span class="kw">in</span> results.keys():</span>
<span id="cb1-372"><a href="#cb1-372" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"  </span><span class="sc">{</span>var_name<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>results[var_name]<span class="sc">.</span>shape<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-373"><a href="#cb1-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-374"><a href="#cb1-374" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> results</span>
<span id="cb1-375"><a href="#cb1-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-376"><a href="#cb1-376" aria-hidden="true" tabindex="-1"></a><span class="co"># # 사용 예시</span></span>
<span id="cb1-377"><a href="#cb1-377" aria-hidden="true" tabindex="-1"></a><span class="co"># if __name__ == "__main__":</span></span>
<span id="cb1-378"><a href="#cb1-378" aria-hidden="true" tabindex="-1"></a><span class="co">#     # 방법 1: 딕셔너리로 받기</span></span>
<span id="cb1-379"><a href="#cb1-379" aria-hidden="true" tabindex="-1"></a><span class="co">#     election_results = process_multiple_elections(['14', '15', '16', '17', '18', '19', '20', '21'])</span></span>
<span id="cb1-380"><a href="#cb1-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-381"><a href="#cb1-381" aria-hidden="true" tabindex="-1"></a><span class="co">#     # 개별 접근 예시:</span></span>
<span id="cb1-382"><a href="#cb1-382" aria-hidden="true" tabindex="-1"></a><span class="co">#     # df_14 = election_results['df_14']</span></span>
<span id="cb1-383"><a href="#cb1-383" aria-hidden="true" tabindex="-1"></a><span class="co">#     # df_15 = election_results['df_15']</span></span>
<span id="cb1-384"><a href="#cb1-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-385"><a href="#cb1-385" aria-hidden="true" tabindex="-1"></a><span class="co">#     # 방법 2: 글로벌 변수로 직접 생성 (주석 해제하여 사용)</span></span>
<span id="cb1-386"><a href="#cb1-386" aria-hidden="true" tabindex="-1"></a><span class="co">#     # save_dataframes_to_globals(['14', '15', '16', '17', '18', '19', '20', '21'])</span></span>
<span id="cb1-387"><a href="#cb1-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-388"><a href="#cb1-388" aria-hidden="true" tabindex="-1"></a><span class="co">#     # 그러면 df_14, df_15, df_16, ... 변수들이 자동 생성됨</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="preprocessing-merge" class="level1">
<h1>Preprocessing &amp; Merge</h1>
<ul>
<li>14회 4번 후보는 사퇴로 제외</li>
</ul>
<div id="cell-5" class="cell" data-outputid="61b0811f-2d33-4bd8-b2fb-8aa4cc09eb9e" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>election_results <span class="op">=</span> process_multiple_elections([<span class="st">'14'</span>, <span class="st">'15'</span>, <span class="st">'16'</span>, <span class="st">'17'</span>, <span class="st">'18'</span>, <span class="st">'19'</span>, <span class="st">'20'</span>, <span class="st">'21'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
==================================================
=== 14회 대선 데이터 처리 시작 ===
상세 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_14.csv
요약 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_14.csv
상세 데이터 로드 완료: (325, 15)
득표수 관련 컬럼 수: 8

=== 14회 선거 후보 정보 ===
실제 후보 컬럼들:
  득표수_1_민주자유당_김영삼
  득표수_2_민주당_김대중
  득표수_3_통일국민당_정주영
  득표수_4_새한국당_이종찬
  득표수_5_신정치개혁당_박찬종
  득표수_6_대한정의당_이병호
  득표수_7_무소속_김옥선
  득표수_8_무소속_백기완
실제 존재하는 후보번호: [1, 2, 3, 4, 5, 6, 7, 8]
경고: 매핑되지 않은 후보번호들: [4]
이 후보들은 '기타' 카테고리로 분류됩니다.
적용된 매핑: {1: '보수정당', 2: '진보정당', 3: '그외정당', 5: '그외정당', 6: '그외정당', 7: '무소속', 8: '무소속'}
==================================================
생성된 카테고리 매핑: {1: '보수정당', 2: '진보정당', 3: '그외정당', 5: '그외정당', 6: '그외정당', 7: '무소속', 8: '무소속'}
매핑 후 1위 정당 분포 (처리 중):
득표_1위_정당
보수정당    221
진보정당     99
그외정당      5
Name: count, dtype: int64
카테고리별 후보자 수: {'보수정당': 1, '진보정당': 1, '그외정당': 3, '무소속': 2}
  보수정당_후보자수: 1
  진보정당_후보자수: 1
  그외정당_후보자수: 3
  무소속_후보자수: 2
요약 데이터 로드 완료: (325, 11)
모든 데이터가 성공적으로 병합되었습니다!
최종 데이터 형태: (327, 21)
1위 정당 분포:
득표_1위_정당
보수정당    223
진보정당     99
그외정당      5
Name: count, dtype: int64
=== 14회 대선 데이터 처리 완료 ===

데이터프레임 저장: df_14 (shape: (327, 21))

==================================================
=== 15회 대선 데이터 처리 시작 ===
상세 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_15.csv
요약 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_15.csv
상세 데이터 로드 완료: (320, 14)
득표수 관련 컬럼 수: 7

=== 15회 선거 후보 정보 ===
실제 후보 컬럼들:
  득표수_1_한나라당_이회창
  득표수_2_새정치국민회의_김대중
  득표수_3_국민신당_이인제
  득표수_4_건설국민승리21_권영길
  득표수_5_공화당_허경영
  득표수_6_바른나라정치연합_김한식
  득표수_7_통일한국당_신정일
실제 존재하는 후보번호: [1, 2, 3, 4, 5, 6, 7]
적용된 매핑: {1: '보수정당', 2: '진보정당', 3: '그외정당', 4: '그외정당', 5: '그외정당', 6: '그외정당', 7: '그외정당'}
==================================================
생성된 카테고리 매핑: {1: '보수정당', 2: '진보정당', 3: '그외정당', 4: '그외정당', 5: '그외정당', 6: '그외정당', 7: '그외정당'}
매핑 후 1위 정당 분포 (처리 중):
득표_1위_정당
진보정당    165
보수정당    140
그외정당     15
Name: count, dtype: int64
카테고리별 후보자 수: {'보수정당': 1, '진보정당': 1, '그외정당': 5, '무소속': 0}
  보수정당_후보자수: 1
  진보정당_후보자수: 1
  그외정당_후보자수: 5
  무소속_후보자수: 0
요약 데이터 로드 완료: (320, 11)
모든 데이터가 성공적으로 병합되었습니다!
최종 데이터 형태: (320, 21)
1위 정당 분포:
득표_1위_정당
진보정당    165
보수정당    140
그외정당     15
Name: count, dtype: int64
=== 15회 대선 데이터 처리 완료 ===

데이터프레임 저장: df_15 (shape: (320, 21))

==================================================
=== 16회 대선 데이터 처리 시작 ===
상세 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_16.csv
요약 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_16.csv
상세 데이터 로드 완료: (261, 13)
득표수 관련 컬럼 수: 6

=== 16회 선거 후보 정보 ===
실제 후보 컬럼들:
  득표수_1_한나라당_이회창
  득표수_2_새천년민주당_노무현
  득표수_3_하나로국민연합_이한동
  득표수_4_민주노동당_권영길
  득표수_5_사회당_김영규
  득표수_6_호국당_김길수
실제 존재하는 후보번호: [1, 2, 3, 4, 5, 6]
적용된 매핑: {1: '보수정당', 2: '진보정당', 3: '그외정당', 4: '그외정당', 5: '그외정당', 6: '그외정당'}
==================================================
생성된 카테고리 매핑: {1: '보수정당', 2: '진보정당', 3: '그외정당', 4: '그외정당', 5: '그외정당', 6: '그외정당'}
매핑 후 1위 정당 분포 (처리 중):
득표_1위_정당
진보정당    153
보수정당    108
Name: count, dtype: int64
카테고리별 후보자 수: {'보수정당': 1, '진보정당': 1, '그외정당': 4, '무소속': 0}
  보수정당_후보자수: 1
  진보정당_후보자수: 1
  그외정당_후보자수: 4
  무소속_후보자수: 0
요약 데이터 로드 완료: (261, 11)
모든 데이터가 성공적으로 병합되었습니다!
최종 데이터 형태: (261, 21)
1위 정당 분포:
득표_1위_정당
진보정당    153
보수정당    108
Name: count, dtype: int64
=== 16회 대선 데이터 처리 완료 ===

데이터프레임 저장: df_16 (shape: (261, 21))

==================================================
=== 17회 대선 데이터 처리 시작 ===
상세 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_17.csv
요약 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_17.csv
상세 데이터 로드 완료: (265, 17)
득표수 관련 컬럼 수: 10

=== 17회 선거 후보 정보 ===
실제 후보 컬럼들:
  득표수_1_대통합민주신당_정동영
  득표수_2_한나라당_이명박
  득표수_3_민주노동당_권영길
  득표수_4_민주당_이인제
  득표수_6_창조한국당_문국현
  득표수_7_참주인연합_정근모
  득표수_8_경제공화당_허경영
  득표수_9_새시대참사람연합_전관
  득표수_10_한국사회당_금민
  득표수_11_무소속_이회창
실제 존재하는 후보번호: [1, 2, 3, 4, 6, 7, 8, 9, 10, 11]
적용된 매핑: {1: '진보정당', 2: '보수정당', 3: '그외정당', 4: '그외정당', 6: '그외정당', 7: '그외정당', 8: '그외정당', 9: '그외정당', 10: '그외정당', 11: '무소속'}
==================================================
생성된 카테고리 매핑: {1: '진보정당', 2: '보수정당', 3: '그외정당', 4: '그외정당', 6: '그외정당', 7: '그외정당', 8: '그외정당', 9: '그외정당', 10: '그외정당', 11: '무소속'}
매핑 후 1위 정당 분포 (처리 중):
득표_1위_정당
보수정당    211
진보정당     46
무소속       8
Name: count, dtype: int64
카테고리별 후보자 수: {'보수정당': 1, '진보정당': 1, '그외정당': 7, '무소속': 1}
  보수정당_후보자수: 1
  진보정당_후보자수: 1
  그외정당_후보자수: 7
  무소속_후보자수: 1
요약 데이터 로드 완료: (265, 11)
모든 데이터가 성공적으로 병합되었습니다!
최종 데이터 형태: (265, 21)
1위 정당 분포:
득표_1위_정당
보수정당    211
진보정당     46
무소속       8
Name: count, dtype: int64
=== 17회 대선 데이터 처리 완료 ===

데이터프레임 저장: df_17 (shape: (265, 21))

==================================================
=== 18회 대선 데이터 처리 시작 ===
상세 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_18.csv
요약 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_18.csv
상세 데이터 로드 완료: (246, 13)
득표수 관련 컬럼 수: 6

=== 18회 선거 후보 정보 ===
실제 후보 컬럼들:
  득표수_1_새누리당_박근혜
  득표수_2_민주통합당_문재인
  득표수_4_무소속_박종선
  득표수_5_무소속_김소연
  득표수_6_무소속_강지원
  득표수_7_무소속_김순자
실제 존재하는 후보번호: [1, 2, 4, 5, 6, 7]
적용된 매핑: {1: '보수정당', 2: '진보정당', 4: '무소속', 5: '무소속', 6: '무소속', 7: '무소속'}
==================================================
생성된 카테고리 매핑: {1: '보수정당', 2: '진보정당', 4: '무소속', 5: '무소속', 6: '무소속', 7: '무소속'}
매핑 후 1위 정당 분포 (처리 중):
득표_1위_정당
보수정당    157
진보정당     89
Name: count, dtype: int64
카테고리별 후보자 수: {'보수정당': 1, '진보정당': 1, '그외정당': 0, '무소속': 4}
  보수정당_후보자수: 1
  진보정당_후보자수: 1
  그외정당_후보자수: 0
  무소속_후보자수: 4
요약 데이터 로드 완료: (246, 11)
모든 데이터가 성공적으로 병합되었습니다!
최종 데이터 형태: (246, 21)
1위 정당 분포:
득표_1위_정당
보수정당    157
진보정당     89
Name: count, dtype: int64
=== 18회 대선 데이터 처리 완료 ===

데이터프레임 저장: df_18 (shape: (246, 21))

==================================================
=== 19회 대선 데이터 처리 시작 ===
상세 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_19.csv
요약 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_19.csv
상세 데이터 로드 완료: (268, 20)
득표수 관련 컬럼 수: 13

=== 19회 선거 후보 정보 ===
실제 후보 컬럼들:
  득표수_1_더불어민주당_문재인
  득표수_2_자유한국당_홍준표
  득표수_3_국민의당_안철수
  득표수_4_바른정당_유승민
  득표수_5_정의당_심상정
  득표수_6_새누리당_조원진
  득표수_7_경제애국당_오영국
  득표수_8_국민대통합당_장성민
  득표수_9_늘푸른한국당_이재오
  득표수_10_민중연합당_김선동
  득표수_12_한국국민당_이경희
  득표수_14_홍익당_윤홍식
  득표수_15_무소속_김민찬
실제 존재하는 후보번호: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 15]
적용된 매핑: {1: '진보정당', 2: '보수정당', 3: '그외정당', 4: '그외정당', 5: '그외정당', 6: '그외정당', 7: '그외정당', 8: '그외정당', 9: '그외정당', 10: '그외정당', 12: '그외정당', 14: '그외정당', 15: '무소속'}
==================================================
생성된 카테고리 매핑: {1: '진보정당', 2: '보수정당', 3: '그외정당', 4: '그외정당', 5: '그외정당', 6: '그외정당', 7: '그외정당', 8: '그외정당', 9: '그외정당', 10: '그외정당', 12: '그외정당', 14: '그외정당', 15: '무소속'}
매핑 후 1위 정당 분포 (처리 중):
득표_1위_정당
진보정당    190
보수정당     78
Name: count, dtype: int64
카테고리별 후보자 수: {'보수정당': 1, '진보정당': 1, '그외정당': 10, '무소속': 1}
  보수정당_후보자수: 1
  진보정당_후보자수: 1
  그외정당_후보자수: 10
  무소속_후보자수: 1
요약 데이터 로드 완료: (268, 11)
모든 데이터가 성공적으로 병합되었습니다!
최종 데이터 형태: (268, 21)
1위 정당 분포:
득표_1위_정당
진보정당    190
보수정당     78
Name: count, dtype: int64
=== 19회 대선 데이터 처리 완료 ===

데이터프레임 저장: df_19 (shape: (268, 21))

==================================================
=== 20회 대선 데이터 처리 시작 ===
상세 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_20.csv
요약 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_20.csv
상세 데이터 로드 완료: (268, 19)
득표수 관련 컬럼 수: 12

=== 20회 선거 후보 정보 ===
실제 후보 컬럼들:
  득표수_1_더불어민주당_이재명
  득표수_2_국민의힘_윤석열
  득표수_3_정의당_심상정
  득표수_5_기본소득당_오준호
  득표수_6_국가혁명당_허경영
  득표수_7_노동당_이백윤
  득표수_8_새누리당_옥은호
  득표수_10_신자유민주연합_김경재
  득표수_11_우리공화당_조원진
  득표수_12_진보당_김재연
  득표수_13_통일한국당_이경희
  득표수_14_한류연합당_김민찬
실제 존재하는 후보번호: [1, 2, 3, 5, 6, 7, 8, 10, 11, 12, 13, 14]
적용된 매핑: {1: '진보정당', 2: '보수정당', 3: '그외정당', 5: '그외정당', 6: '그외정당', 7: '그외정당', 8: '그외정당', 10: '그외정당', 11: '그외정당', 12: '그외정당', 13: '그외정당', 14: '그외정당'}
==================================================
생성된 카테고리 매핑: {1: '진보정당', 2: '보수정당', 3: '그외정당', 5: '그외정당', 6: '그외정당', 7: '그외정당', 8: '그외정당', 10: '그외정당', 11: '그외정당', 12: '그외정당', 13: '그외정당', 14: '그외정당'}
매핑 후 1위 정당 분포 (처리 중):
득표_1위_정당
보수정당    162
진보정당    106
Name: count, dtype: int64
카테고리별 후보자 수: {'보수정당': 1, '진보정당': 1, '그외정당': 10, '무소속': 0}
  보수정당_후보자수: 1
  진보정당_후보자수: 1
  그외정당_후보자수: 10
  무소속_후보자수: 0
요약 데이터 로드 완료: (268, 11)
모든 데이터가 성공적으로 병합되었습니다!
최종 데이터 형태: (268, 21)
1위 정당 분포:
득표_1위_정당
보수정당    162
진보정당    106
Name: count, dtype: int64
=== 20회 대선 데이터 처리 완료 ===

데이터프레임 저장: df_20 (shape: (268, 21))

==================================================
=== 21회 대선 데이터 처리 시작 ===
상세 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v1_p/temp1_president_21.csv
요약 데이터 URL: https://raw.githubusercontent.com/sw1kwon/korean-elections/refs/heads/main/temp/v2_2_p/temp2_2_president_21.csv
상세 데이터 로드 완료: (271, 12)
득표수 관련 컬럼 수: 5

=== 21회 선거 후보 정보 ===
실제 후보 컬럼들:
  득표수_1_더불어민주당_이재명
  득표수_2_국민의힘_김문수
  득표수_4_개혁신당_이준석
  득표수_5_민주노동당_권영국
  득표수_8_무소속_송진호
실제 존재하는 후보번호: [1, 2, 4, 5, 8]
적용된 매핑: {1: '진보정당', 2: '보수정당', 4: '그외정당', 5: '그외정당', 8: '무소속'}
==================================================
생성된 카테고리 매핑: {1: '진보정당', 2: '보수정당', 4: '그외정당', 5: '그외정당', 8: '무소속'}
매핑 후 1위 정당 분포 (처리 중):
득표_1위_정당
진보정당    152
보수정당    119
Name: count, dtype: int64
카테고리별 후보자 수: {'보수정당': 1, '진보정당': 1, '그외정당': 2, '무소속': 1}
  보수정당_후보자수: 1
  진보정당_후보자수: 1
  그외정당_후보자수: 2
  무소속_후보자수: 1
요약 데이터 로드 완료: (271, 11)
모든 데이터가 성공적으로 병합되었습니다!
최종 데이터 형태: (271, 21)
1위 정당 분포:
득표_1위_정당
진보정당    152
보수정당    119
Name: count, dtype: int64
=== 21회 대선 데이터 처리 완료 ===

데이터프레임 저장: df_21 (shape: (271, 21))</code></pre>
</div>
</div>
</section>
<section id="th_1992" class="level1">
<h1>14th_1992</h1>
<div id="cell-7" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df_14 <span class="op">=</span> election_results[<span class="st">'df_14'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-8" class="cell" data-outputid="b6ddee8d-d6e9-41d8-fae4-1f38194459ed" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df_14</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">

  <div id="df-0aedb747-d47b-437b-bc12-4fe1e1f83b06" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시도</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">보수정당_후보자수</th>
<th data-quarto-table-cell-role="th">진보정당_후보자수</th>
<th data-quarto-table-cell-role="th">그외정당_후보자수</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>28676547</td>
<td>24095170</td>
<td>9977332</td>
<td>8041284</td>
<td>5431853</td>
<td>324940</td>
<td>23775409</td>
<td>319761</td>
<td>...</td>
<td>1</td>
<td>0.419649</td>
<td>2</td>
<td>0.338219</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>7235830</td>
<td>6021311</td>
<td>2167298</td>
<td>2246636</td>
<td>1456961</td>
<td>80882</td>
<td>5951777</td>
<td>69534</td>
<td>...</td>
<td>2</td>
<td>0.377473</td>
<td>1</td>
<td>0.364143</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>158824</td>
<td>130419</td>
<td>41396</td>
<td>50226</td>
<td>34764</td>
<td>1884</td>
<td>128270</td>
<td>2149</td>
<td>...</td>
<td>2</td>
<td>0.391565</td>
<td>1</td>
<td>0.322726</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>123335</td>
<td>101005</td>
<td>34093</td>
<td>41814</td>
<td>22368</td>
<td>1320</td>
<td>99595</td>
<td>1410</td>
<td>...</td>
<td>2</td>
<td>0.419840</td>
<td>1</td>
<td>0.342316</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>198704</td>
<td>161166</td>
<td>59755</td>
<td>57144</td>
<td>40041</td>
<td>2149</td>
<td>159089</td>
<td>2077</td>
<td>...</td>
<td>1</td>
<td>0.375607</td>
<td>2</td>
<td>0.359195</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">322</td>
<td>제주</td>
<td>합계</td>
<td>319824</td>
<td>265252</td>
<td>104292</td>
<td>85889</td>
<td>65770</td>
<td>4933</td>
<td>260884</td>
<td>4368</td>
<td>...</td>
<td>1</td>
<td>0.399764</td>
<td>2</td>
<td>0.329223</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">323</td>
<td>제주</td>
<td>제주시</td>
<td>146005</td>
<td>120565</td>
<td>45617</td>
<td>39122</td>
<td>32250</td>
<td>2017</td>
<td>119006</td>
<td>1559</td>
<td>...</td>
<td>1</td>
<td>0.383317</td>
<td>2</td>
<td>0.328740</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">324</td>
<td>제주</td>
<td>북제주군</td>
<td>66346</td>
<td>54713</td>
<td>23957</td>
<td>15726</td>
<td>12626</td>
<td>1229</td>
<td>53538</td>
<td>1175</td>
<td>...</td>
<td>1</td>
<td>0.447477</td>
<td>2</td>
<td>0.293735</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">325</td>
<td>제주</td>
<td>서귀포시</td>
<td>53574</td>
<td>44840</td>
<td>16042</td>
<td>16955</td>
<td>10384</td>
<td>768</td>
<td>44149</td>
<td>691</td>
<td>...</td>
<td>2</td>
<td>0.384040</td>
<td>1</td>
<td>0.363360</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">326</td>
<td>제주</td>
<td>남제주군</td>
<td>53899</td>
<td>45134</td>
<td>18676</td>
<td>14086</td>
<td>10510</td>
<td>919</td>
<td>44191</td>
<td>943</td>
<td>...</td>
<td>1</td>
<td>0.422620</td>
<td>2</td>
<td>0.318753</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>2</td>
</tr>
</tbody>
</table>

<p>327 rows × 21 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-0aedb747-d47b-437b-bc12-4fe1e1f83b06')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-0aedb747-d47b-437b-bc12-4fe1e1f83b06 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-0aedb747-d47b-437b-bc12-4fe1e1f83b06');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-ba1aa752-d342-4076-940d-fcdb5c72ffc0">
      <button class="colab-df-quickchart" onclick="quickchart('df-ba1aa752-d342-4076-940d-fcdb5c72ffc0')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-ba1aa752-d342-4076-940d-fcdb5c72ffc0 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_38a6a4fb-b317-4616-ae2a-3a716aa06fdb">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_14')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_38a6a4fb-b317-4616-ae2a-3a716aa06fdb button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_14');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<section id="preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing">preprocessing</h2>
<div id="cell-10" class="cell" data-outputid="5d0c29b0-1e25-46d4-f06d-4c87a81e6d87" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_14[<span class="st">'시도'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>array(['전국', '서울', '부산', '대구', '인천', '광주', '대전', '경기', '강원', '충북', '충남',
       '전북', '전남', '경북', '경남', '제주'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-11" class="cell" data-outputid="eed8deac-e874-4e3b-97d7-2f80edcc4052" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df_14.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>Index(['시도', '구시군', '선거인수', '투표수', '보수정당', '진보정당', '그외정당', '무소속', '득표수_계',
       '무효투표수', '기권수', '득표_1위_후보번호', '득표_1위_득표율', '득표_2위_후보번호', '득표_2위_득표율',
       '득표_1위_정당', '득표_2위_정당', '보수정당_후보자수', '진보정당_후보자수', '그외정당_후보자수',
       '무소속_후보자수'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-12" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 고정 열 순서 정의</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>fixed_cols <span class="op">=</span> [</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'선거년도'</span>, <span class="st">'선거종류'</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'보수정당_후보자수'</span>, <span class="st">'진보정당_후보자수'</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'그외정당_후보자수'</span>, <span class="st">'무소속_후보자수'</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 나머지 열: fixed_cols에 포함되지 않은 열</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>other_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df_14.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> fixed_cols]</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 메소드 체이닝</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>df_14 <span class="op">=</span> (</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    df_14</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    .assign(선거종류<span class="op">=</span><span class="st">'대통령'</span>, 선거년도<span class="op">=</span><span class="st">'1992'</span>)</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    .loc[:, fixed_cols <span class="op">+</span> other_cols]</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'시도'</span>: <span class="st">'지역'</span>})</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-13" class="cell" data-outputid="12bd6c42-2c61-46a6-aa02-52e3c3e54d9d" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_14</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">

  <div id="df-0f9668a9-4f90-47ae-b2a9-2115925b4966" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거년도</th>
<th data-quarto-table-cell-role="th">선거종류</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">기권수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>1992</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.419649</td>
<td>2</td>
<td>0.338219</td>
<td>...</td>
<td>2</td>
<td>28676547</td>
<td>24095170</td>
<td>9977332</td>
<td>8041284</td>
<td>5431853</td>
<td>324940</td>
<td>23775409</td>
<td>319761</td>
<td>4581377</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>1992</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.377473</td>
<td>1</td>
<td>0.364143</td>
<td>...</td>
<td>2</td>
<td>7235830</td>
<td>6021311</td>
<td>2167298</td>
<td>2246636</td>
<td>1456961</td>
<td>80882</td>
<td>5951777</td>
<td>69534</td>
<td>1214519</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>1992</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.391565</td>
<td>1</td>
<td>0.322726</td>
<td>...</td>
<td>2</td>
<td>158824</td>
<td>130419</td>
<td>41396</td>
<td>50226</td>
<td>34764</td>
<td>1884</td>
<td>128270</td>
<td>2149</td>
<td>28405</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>1992</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.419840</td>
<td>1</td>
<td>0.342316</td>
<td>...</td>
<td>2</td>
<td>123335</td>
<td>101005</td>
<td>34093</td>
<td>41814</td>
<td>22368</td>
<td>1320</td>
<td>99595</td>
<td>1410</td>
<td>22330</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>1992</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.375607</td>
<td>2</td>
<td>0.359195</td>
<td>...</td>
<td>2</td>
<td>198704</td>
<td>161166</td>
<td>59755</td>
<td>57144</td>
<td>40041</td>
<td>2149</td>
<td>159089</td>
<td>2077</td>
<td>37538</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">322</td>
<td>제주</td>
<td>합계</td>
<td>1992</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.399764</td>
<td>2</td>
<td>0.329223</td>
<td>...</td>
<td>2</td>
<td>319824</td>
<td>265252</td>
<td>104292</td>
<td>85889</td>
<td>65770</td>
<td>4933</td>
<td>260884</td>
<td>4368</td>
<td>54572</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">323</td>
<td>제주</td>
<td>제주시</td>
<td>1992</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.383317</td>
<td>2</td>
<td>0.328740</td>
<td>...</td>
<td>2</td>
<td>146005</td>
<td>120565</td>
<td>45617</td>
<td>39122</td>
<td>32250</td>
<td>2017</td>
<td>119006</td>
<td>1559</td>
<td>25440</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">324</td>
<td>제주</td>
<td>북제주군</td>
<td>1992</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.447477</td>
<td>2</td>
<td>0.293735</td>
<td>...</td>
<td>2</td>
<td>66346</td>
<td>54713</td>
<td>23957</td>
<td>15726</td>
<td>12626</td>
<td>1229</td>
<td>53538</td>
<td>1175</td>
<td>11633</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">325</td>
<td>제주</td>
<td>서귀포시</td>
<td>1992</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.384040</td>
<td>1</td>
<td>0.363360</td>
<td>...</td>
<td>2</td>
<td>53574</td>
<td>44840</td>
<td>16042</td>
<td>16955</td>
<td>10384</td>
<td>768</td>
<td>44149</td>
<td>691</td>
<td>8734</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">326</td>
<td>제주</td>
<td>남제주군</td>
<td>1992</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.422620</td>
<td>2</td>
<td>0.318753</td>
<td>...</td>
<td>2</td>
<td>53899</td>
<td>45134</td>
<td>18676</td>
<td>14086</td>
<td>10510</td>
<td>919</td>
<td>44191</td>
<td>943</td>
<td>8765</td>
</tr>
</tbody>
</table>

<p>327 rows × 23 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-0f9668a9-4f90-47ae-b2a9-2115925b4966')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-0f9668a9-4f90-47ae-b2a9-2115925b4966 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-0f9668a9-4f90-47ae-b2a9-2115925b4966');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-2b8fa203-8ed4-4527-b0f7-c021b0a28ada">
      <button class="colab-df-quickchart" onclick="quickchart('df-2b8fa203-8ed4-4527-b0f7-c021b0a28ada')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-2b8fa203-8ed4-4527-b0f7-c021b0a28ada button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_75759240-6515-46b6-beb1-15a42a6f5995">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_14')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_75759240-6515-46b6-beb1-15a42a6f5995 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_14');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="v4.1-v4.3" class="level2">
<h2 class="anchored" data-anchor-id="v4.1-v4.3">v4.1 ~ v4.3</h2>
<div id="cell-15" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 전체 데이터 저장</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df_14.to_csv(<span class="st">"temp4_1_president_14.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. '구시군' != '합계' 행만 추출하여 저장</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    df_14</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 != '합계'"</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_2_president_14.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. '구시군' == '합계' 행만 추출 후 '구시군' 열 제거하여 저장</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    df_14</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 == '합계'"</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">"구시군"</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_3_president_14.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="th_1997" class="level1">
<h1>15th_1997</h1>
<div id="cell-17" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df_15 <span class="op">=</span> election_results[<span class="st">'df_15'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-18" class="cell" data-outputid="6d48b24d-c88b-47c5-df15-1ffc039a58fa" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_15</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">

  <div id="df-3f39a918-3ae1-422e-a96a-729ab05ea6f2" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시도</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">보수정당_후보자수</th>
<th data-quarto-table-cell-role="th">진보정당_후보자수</th>
<th data-quarto-table-cell-role="th">그외정당_후보자수</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>32290416</td>
<td>26042633</td>
<td>9935718</td>
<td>10326275</td>
<td>5380445</td>
<td>0</td>
<td>25642438</td>
<td>400195</td>
<td>...</td>
<td>2</td>
<td>0.402703</td>
<td>1</td>
<td>0.387472</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>7358547</td>
<td>5926743</td>
<td>2394309</td>
<td>2627308</td>
<td>833156</td>
<td>0</td>
<td>5854773</td>
<td>71970</td>
<td>...</td>
<td>2</td>
<td>0.448746</td>
<td>1</td>
<td>0.408950</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>145809</td>
<td>116117</td>
<td>48664</td>
<td>52381</td>
<td>13550</td>
<td>0</td>
<td>114595</td>
<td>1522</td>
<td>...</td>
<td>2</td>
<td>0.457097</td>
<td>1</td>
<td>0.424661</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>96000</td>
<td>76174</td>
<td>29633</td>
<td>36072</td>
<td>9388</td>
<td>0</td>
<td>75093</td>
<td>1081</td>
<td>...</td>
<td>2</td>
<td>0.480364</td>
<td>1</td>
<td>0.394617</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>180295</td>
<td>141083</td>
<td>61050</td>
<td>60486</td>
<td>17650</td>
<td>0</td>
<td>139186</td>
<td>1897</td>
<td>...</td>
<td>1</td>
<td>0.438622</td>
<td>2</td>
<td>0.434570</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">315</td>
<td>제주</td>
<td>합계</td>
<td>361680</td>
<td>278999</td>
<td>100103</td>
<td>111009</td>
<td>62465</td>
<td>0</td>
<td>273577</td>
<td>5422</td>
<td>...</td>
<td>2</td>
<td>0.405769</td>
<td>1</td>
<td>0.365904</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">316</td>
<td>제주</td>
<td>제주시</td>
<td>175309</td>
<td>135454</td>
<td>53153</td>
<td>53254</td>
<td>27106</td>
<td>0</td>
<td>133513</td>
<td>1941</td>
<td>...</td>
<td>2</td>
<td>0.398868</td>
<td>1</td>
<td>0.398111</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">317</td>
<td>제주</td>
<td>북제주군</td>
<td>71558</td>
<td>54622</td>
<td>18519</td>
<td>20105</td>
<td>14454</td>
<td>0</td>
<td>53078</td>
<td>1544</td>
<td>...</td>
<td>2</td>
<td>0.378782</td>
<td>1</td>
<td>0.348902</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">318</td>
<td>제주</td>
<td>서귀포시</td>
<td>58547</td>
<td>45135</td>
<td>14768</td>
<td>20392</td>
<td>9220</td>
<td>0</td>
<td>44380</td>
<td>755</td>
<td>...</td>
<td>2</td>
<td>0.459486</td>
<td>1</td>
<td>0.332763</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">319</td>
<td>제주</td>
<td>남제주군</td>
<td>56266</td>
<td>43788</td>
<td>13663</td>
<td>17258</td>
<td>11685</td>
<td>0</td>
<td>42606</td>
<td>1182</td>
<td>...</td>
<td>2</td>
<td>0.405060</td>
<td>1</td>
<td>0.320683</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>5</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>320 rows × 21 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-3f39a918-3ae1-422e-a96a-729ab05ea6f2')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-3f39a918-3ae1-422e-a96a-729ab05ea6f2 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-3f39a918-3ae1-422e-a96a-729ab05ea6f2');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-731378a1-2e1d-425e-a88f-22320cbf9b0e">
      <button class="colab-df-quickchart" onclick="quickchart('df-731378a1-2e1d-425e-a88f-22320cbf9b0e')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-731378a1-2e1d-425e-a88f-22320cbf9b0e button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_0e705b4b-3e55-432a-99f3-62a999a794e7">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_15')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_0e705b4b-3e55-432a-99f3-62a999a794e7 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_15');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<section id="preprocessing-1" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-1">preprocessing</h2>
<div id="cell-20" class="cell" data-outputid="86725dd6-29e2-4225-9f3d-8e5f6322cf52" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df_15[<span class="st">'시도'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>array(['전국', '서울', '부산', '대구', '인천', '광주', '대전', '울산', '경기', '강원', '충북',
       '충남', '전북', '전남', '경북', '경남', '제주'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-21" class="cell" data-outputid="cca888e8-f4e7-4381-adef-71eb4789b759" data-execution_count="13">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df_15.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>Index(['시도', '구시군', '선거인수', '투표수', '보수정당', '진보정당', '그외정당', '무소속', '득표수_계',
       '무효투표수', '기권수', '득표_1위_후보번호', '득표_1위_득표율', '득표_2위_후보번호', '득표_2위_득표율',
       '득표_1위_정당', '득표_2위_정당', '보수정당_후보자수', '진보정당_후보자수', '그외정당_후보자수',
       '무소속_후보자수'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-22" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 고정 열 순서 정의</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>fixed_cols <span class="op">=</span> [</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'선거년도'</span>, <span class="st">'선거종류'</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'보수정당_후보자수'</span>, <span class="st">'진보정당_후보자수'</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'그외정당_후보자수'</span>, <span class="st">'무소속_후보자수'</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 나머지 열: fixed_cols에 포함되지 않은 열</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>other_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df_15.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> fixed_cols]</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 메소드 체이닝</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>df_15 <span class="op">=</span> (</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    df_15</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    .assign(선거종류<span class="op">=</span><span class="st">'대통령'</span>, 선거년도<span class="op">=</span><span class="st">'1997'</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    .loc[:, fixed_cols <span class="op">+</span> other_cols]</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'시도'</span>: <span class="st">'지역'</span>})</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-23" class="cell" data-outputid="e20279da-060a-47d6-94a1-b6094cdbb281" data-execution_count="15">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df_15</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">

  <div id="df-e8a41850-ebe0-4630-bcbd-428a00bfac49" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거년도</th>
<th data-quarto-table-cell-role="th">선거종류</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">기권수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.402703</td>
<td>1</td>
<td>0.387472</td>
<td>...</td>
<td>0</td>
<td>32290416</td>
<td>26042633</td>
<td>9935718</td>
<td>10326275</td>
<td>5380445</td>
<td>0</td>
<td>25642438</td>
<td>400195</td>
<td>6247783</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.448746</td>
<td>1</td>
<td>0.408950</td>
<td>...</td>
<td>0</td>
<td>7358547</td>
<td>5926743</td>
<td>2394309</td>
<td>2627308</td>
<td>833156</td>
<td>0</td>
<td>5854773</td>
<td>71970</td>
<td>1431804</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.457097</td>
<td>1</td>
<td>0.424661</td>
<td>...</td>
<td>0</td>
<td>145809</td>
<td>116117</td>
<td>48664</td>
<td>52381</td>
<td>13550</td>
<td>0</td>
<td>114595</td>
<td>1522</td>
<td>29692</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.480364</td>
<td>1</td>
<td>0.394617</td>
<td>...</td>
<td>0</td>
<td>96000</td>
<td>76174</td>
<td>29633</td>
<td>36072</td>
<td>9388</td>
<td>0</td>
<td>75093</td>
<td>1081</td>
<td>19826</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>1997</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.438622</td>
<td>2</td>
<td>0.434570</td>
<td>...</td>
<td>0</td>
<td>180295</td>
<td>141083</td>
<td>61050</td>
<td>60486</td>
<td>17650</td>
<td>0</td>
<td>139186</td>
<td>1897</td>
<td>39212</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">315</td>
<td>제주</td>
<td>합계</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.405769</td>
<td>1</td>
<td>0.365904</td>
<td>...</td>
<td>0</td>
<td>361680</td>
<td>278999</td>
<td>100103</td>
<td>111009</td>
<td>62465</td>
<td>0</td>
<td>273577</td>
<td>5422</td>
<td>82681</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">316</td>
<td>제주</td>
<td>제주시</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.398868</td>
<td>1</td>
<td>0.398111</td>
<td>...</td>
<td>0</td>
<td>175309</td>
<td>135454</td>
<td>53153</td>
<td>53254</td>
<td>27106</td>
<td>0</td>
<td>133513</td>
<td>1941</td>
<td>39855</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">317</td>
<td>제주</td>
<td>북제주군</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.378782</td>
<td>1</td>
<td>0.348902</td>
<td>...</td>
<td>0</td>
<td>71558</td>
<td>54622</td>
<td>18519</td>
<td>20105</td>
<td>14454</td>
<td>0</td>
<td>53078</td>
<td>1544</td>
<td>16936</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">318</td>
<td>제주</td>
<td>서귀포시</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.459486</td>
<td>1</td>
<td>0.332763</td>
<td>...</td>
<td>0</td>
<td>58547</td>
<td>45135</td>
<td>14768</td>
<td>20392</td>
<td>9220</td>
<td>0</td>
<td>44380</td>
<td>755</td>
<td>13412</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">319</td>
<td>제주</td>
<td>남제주군</td>
<td>1997</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.405060</td>
<td>1</td>
<td>0.320683</td>
<td>...</td>
<td>0</td>
<td>56266</td>
<td>43788</td>
<td>13663</td>
<td>17258</td>
<td>11685</td>
<td>0</td>
<td>42606</td>
<td>1182</td>
<td>12478</td>
</tr>
</tbody>
</table>

<p>320 rows × 23 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-e8a41850-ebe0-4630-bcbd-428a00bfac49')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-e8a41850-ebe0-4630-bcbd-428a00bfac49 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-e8a41850-ebe0-4630-bcbd-428a00bfac49');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-db3261e5-b56b-491e-8966-f089d9b3ed7d">
      <button class="colab-df-quickchart" onclick="quickchart('df-db3261e5-b56b-491e-8966-f089d9b3ed7d')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-db3261e5-b56b-491e-8966-f089d9b3ed7d button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_09b86170-78ca-4bbf-a5d2-664d20510fca">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_15')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_09b86170-78ca-4bbf-a5d2-664d20510fca button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_15');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="v4.1-v4.3-1" class="level2">
<h2 class="anchored" data-anchor-id="v4.1-v4.3-1">v4.1 ~ v4.3</h2>
<div id="cell-25" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 전체 데이터 저장</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>df_15.to_csv(<span class="st">"temp4_1_president_15.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. '구시군' != '합계' 행만 추출하여 저장</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    df_15</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 != '합계'"</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_2_president_15.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. '구시군' == '합계' 행만 추출 후 '구시군' 열 제거하여 저장</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    df_15</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 == '합계'"</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">"구시군"</span>)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_3_president_15.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="th_2002" class="level1">
<h1>16th_2002</h1>
<div id="cell-27" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>df_16 <span class="op">=</span> election_results[<span class="st">'df_16'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-28" class="cell" data-outputid="4c5e163d-9b6c-43a1-8031-0e1c1bb0088e" data-execution_count="18">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>df_16</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">

  <div id="df-983be030-a0e9-4aff-bfe2-fc6f70cb49fa" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시도</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">보수정당_후보자수</th>
<th data-quarto-table-cell-role="th">진보정당_후보자수</th>
<th data-quarto-table-cell-role="th">그외정당_후보자수</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>34991529</td>
<td>24784963</td>
<td>11443297</td>
<td>12014277</td>
<td>1104342</td>
<td>0</td>
<td>24561916</td>
<td>223047</td>
<td>...</td>
<td>2</td>
<td>0.489143</td>
<td>1</td>
<td>0.465896</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>7670682</td>
<td>5475715</td>
<td>2447376</td>
<td>2792957</td>
<td>203657</td>
<td>0</td>
<td>5443990</td>
<td>31725</td>
<td>...</td>
<td>2</td>
<td>0.513035</td>
<td>1</td>
<td>0.449556</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>140105</td>
<td>99988</td>
<td>45901</td>
<td>49989</td>
<td>3491</td>
<td>0</td>
<td>99381</td>
<td>607</td>
<td>...</td>
<td>2</td>
<td>0.503004</td>
<td>1</td>
<td>0.461869</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>108936</td>
<td>76499</td>
<td>33712</td>
<td>39876</td>
<td>2404</td>
<td>0</td>
<td>75992</td>
<td>507</td>
<td>...</td>
<td>2</td>
<td>0.524739</td>
<td>1</td>
<td>0.443626</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>184276</td>
<td>127810</td>
<td>61349</td>
<td>61437</td>
<td>4276</td>
<td>0</td>
<td>127062</td>
<td>748</td>
<td>...</td>
<td>2</td>
<td>0.483520</td>
<td>1</td>
<td>0.482827</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">256</td>
<td>제주</td>
<td>합계</td>
<td>391151</td>
<td>268227</td>
<td>105744</td>
<td>148423</td>
<td>10632</td>
<td>0</td>
<td>264799</td>
<td>3428</td>
<td>...</td>
<td>2</td>
<td>0.560512</td>
<td>1</td>
<td>0.399337</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">257</td>
<td>제주</td>
<td>제주시</td>
<td>198820</td>
<td>136002</td>
<td>55892</td>
<td>73679</td>
<td>5302</td>
<td>0</td>
<td>134873</td>
<td>1129</td>
<td>...</td>
<td>2</td>
<td>0.546284</td>
<td>1</td>
<td>0.414405</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">258</td>
<td>제주</td>
<td>북제주군</td>
<td>74769</td>
<td>51969</td>
<td>20345</td>
<td>28501</td>
<td>2028</td>
<td>0</td>
<td>50874</td>
<td>1095</td>
<td>...</td>
<td>2</td>
<td>0.560227</td>
<td>1</td>
<td>0.399910</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">259</td>
<td>제주</td>
<td>서귀포시</td>
<td>61099</td>
<td>41151</td>
<td>15077</td>
<td>24026</td>
<td>1595</td>
<td>0</td>
<td>40698</td>
<td>453</td>
<td>...</td>
<td>2</td>
<td>0.590348</td>
<td>1</td>
<td>0.370460</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">260</td>
<td>제주</td>
<td>남제주군</td>
<td>56463</td>
<td>39105</td>
<td>14430</td>
<td>22217</td>
<td>1707</td>
<td>0</td>
<td>38354</td>
<td>751</td>
<td>...</td>
<td>2</td>
<td>0.579262</td>
<td>1</td>
<td>0.376232</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>261 rows × 21 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-983be030-a0e9-4aff-bfe2-fc6f70cb49fa')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-983be030-a0e9-4aff-bfe2-fc6f70cb49fa button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-983be030-a0e9-4aff-bfe2-fc6f70cb49fa');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-87e286f2-1499-4fd8-952b-263d39e97da3">
      <button class="colab-df-quickchart" onclick="quickchart('df-87e286f2-1499-4fd8-952b-263d39e97da3')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-87e286f2-1499-4fd8-952b-263d39e97da3 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_0626afda-ff0c-443b-bfde-8877f99b9af7">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_16')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_0626afda-ff0c-443b-bfde-8877f99b9af7 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_16');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<section id="preprocessing-2" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-2">preprocessing</h2>
<div id="cell-30" class="cell" data-outputid="58d13faf-2489-49ba-8481-017fb50cfb75" data-execution_count="19">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df_16[<span class="st">'시도'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>array(['전국', '서울', '부산', '대구', '인천', '광주', '대전', '울산', '경기', '강원', '충북',
       '충남', '전북', '전남', '경북', '경남', '제주'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-31" class="cell" data-outputid="a4687337-3a7d-4c58-bfe2-3a5e48b97f6a" data-execution_count="20">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df_16.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>Index(['시도', '구시군', '선거인수', '투표수', '보수정당', '진보정당', '그외정당', '무소속', '득표수_계',
       '무효투표수', '기권수', '득표_1위_후보번호', '득표_1위_득표율', '득표_2위_후보번호', '득표_2위_득표율',
       '득표_1위_정당', '득표_2위_정당', '보수정당_후보자수', '진보정당_후보자수', '그외정당_후보자수',
       '무소속_후보자수'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-32" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 고정 열 순서 정의</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>fixed_cols <span class="op">=</span> [</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'선거년도'</span>, <span class="st">'선거종류'</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'보수정당_후보자수'</span>, <span class="st">'진보정당_후보자수'</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'그외정당_후보자수'</span>, <span class="st">'무소속_후보자수'</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 나머지 열: fixed_cols에 포함되지 않은 열</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>other_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df_16.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> fixed_cols]</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 메소드 체이닝</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>df_16 <span class="op">=</span> (</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>    df_16</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    .assign(선거종류<span class="op">=</span><span class="st">'대통령'</span>, 선거년도<span class="op">=</span><span class="st">'2002'</span>)</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    .loc[:, fixed_cols <span class="op">+</span> other_cols]</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'시도'</span>: <span class="st">'지역'</span>})</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-33" class="cell" data-outputid="8a3526a9-1a46-4415-d7a7-345903d72d6d" data-execution_count="22">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df_16</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">

  <div id="df-60cc0c61-ab42-40e9-8469-16dfb0fd5180" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거년도</th>
<th data-quarto-table-cell-role="th">선거종류</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">기권수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.489143</td>
<td>1</td>
<td>0.465896</td>
<td>...</td>
<td>0</td>
<td>34991529</td>
<td>24784963</td>
<td>11443297</td>
<td>12014277</td>
<td>1104342</td>
<td>0</td>
<td>24561916</td>
<td>223047</td>
<td>10206566</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.513035</td>
<td>1</td>
<td>0.449556</td>
<td>...</td>
<td>0</td>
<td>7670682</td>
<td>5475715</td>
<td>2447376</td>
<td>2792957</td>
<td>203657</td>
<td>0</td>
<td>5443990</td>
<td>31725</td>
<td>2194967</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.503004</td>
<td>1</td>
<td>0.461869</td>
<td>...</td>
<td>0</td>
<td>140105</td>
<td>99988</td>
<td>45901</td>
<td>49989</td>
<td>3491</td>
<td>0</td>
<td>99381</td>
<td>607</td>
<td>40117</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.524739</td>
<td>1</td>
<td>0.443626</td>
<td>...</td>
<td>0</td>
<td>108936</td>
<td>76499</td>
<td>33712</td>
<td>39876</td>
<td>2404</td>
<td>0</td>
<td>75992</td>
<td>507</td>
<td>32437</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.483520</td>
<td>1</td>
<td>0.482827</td>
<td>...</td>
<td>0</td>
<td>184276</td>
<td>127810</td>
<td>61349</td>
<td>61437</td>
<td>4276</td>
<td>0</td>
<td>127062</td>
<td>748</td>
<td>56466</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">256</td>
<td>제주</td>
<td>합계</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.560512</td>
<td>1</td>
<td>0.399337</td>
<td>...</td>
<td>0</td>
<td>391151</td>
<td>268227</td>
<td>105744</td>
<td>148423</td>
<td>10632</td>
<td>0</td>
<td>264799</td>
<td>3428</td>
<td>122924</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">257</td>
<td>제주</td>
<td>제주시</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.546284</td>
<td>1</td>
<td>0.414405</td>
<td>...</td>
<td>0</td>
<td>198820</td>
<td>136002</td>
<td>55892</td>
<td>73679</td>
<td>5302</td>
<td>0</td>
<td>134873</td>
<td>1129</td>
<td>62818</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">258</td>
<td>제주</td>
<td>북제주군</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.560227</td>
<td>1</td>
<td>0.399910</td>
<td>...</td>
<td>0</td>
<td>74769</td>
<td>51969</td>
<td>20345</td>
<td>28501</td>
<td>2028</td>
<td>0</td>
<td>50874</td>
<td>1095</td>
<td>22800</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">259</td>
<td>제주</td>
<td>서귀포시</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.590348</td>
<td>1</td>
<td>0.370460</td>
<td>...</td>
<td>0</td>
<td>61099</td>
<td>41151</td>
<td>15077</td>
<td>24026</td>
<td>1595</td>
<td>0</td>
<td>40698</td>
<td>453</td>
<td>19948</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">260</td>
<td>제주</td>
<td>남제주군</td>
<td>2002</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.579262</td>
<td>1</td>
<td>0.376232</td>
<td>...</td>
<td>0</td>
<td>56463</td>
<td>39105</td>
<td>14430</td>
<td>22217</td>
<td>1707</td>
<td>0</td>
<td>38354</td>
<td>751</td>
<td>17358</td>
</tr>
</tbody>
</table>

<p>261 rows × 23 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-60cc0c61-ab42-40e9-8469-16dfb0fd5180')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-60cc0c61-ab42-40e9-8469-16dfb0fd5180 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-60cc0c61-ab42-40e9-8469-16dfb0fd5180');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-01c92f40-bfb9-43b6-8b25-180ab35fc79a">
      <button class="colab-df-quickchart" onclick="quickchart('df-01c92f40-bfb9-43b6-8b25-180ab35fc79a')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-01c92f40-bfb9-43b6-8b25-180ab35fc79a button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_dda4329b-9a40-4935-9e1b-8b4b3ba52b76">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_16')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_dda4329b-9a40-4935-9e1b-8b4b3ba52b76 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_16');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="v4.1-v4.3-2" class="level2">
<h2 class="anchored" data-anchor-id="v4.1-v4.3-2">v4.1 ~ v4.3</h2>
<div id="cell-35" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 전체 데이터 저장</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>df_16.to_csv(<span class="st">"temp4_1_president_16.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. '구시군' != '합계' 행만 추출하여 저장</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    df_16</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 != '합계'"</span>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_2_president_16.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. '구시군' == '합계' 행만 추출 후 '구시군' 열 제거하여 저장</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    df_16</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 == '합계'"</span>)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">"구시군"</span>)</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_3_president_16.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="th_2007" class="level1">
<h1>17th_2007</h1>
<div id="cell-37" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df_17 <span class="op">=</span> election_results[<span class="st">'df_17'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-38" class="cell" data-outputid="0acdb766-a214-49ae-8116-65307e23396c" data-execution_count="25">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df_17</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">

  <div id="df-044fdfbd-374f-4b97-8545-dc75484c9d2d" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시도</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">보수정당_후보자수</th>
<th data-quarto-table-cell-role="th">진보정당_후보자수</th>
<th data-quarto-table-cell-role="th">그외정당_후보자수</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>37653518</td>
<td>23732854</td>
<td>11492389</td>
<td>6174681</td>
<td>2385847</td>
<td>3559963</td>
<td>23612880</td>
<td>119974</td>
<td>...</td>
<td>2</td>
<td>0.486700</td>
<td>1</td>
<td>0.261496</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>8051696</td>
<td>5066022</td>
<td>2689162</td>
<td>1237812</td>
<td>528169</td>
<td>596226</td>
<td>5051369</td>
<td>14653</td>
<td>...</td>
<td>2</td>
<td>0.532363</td>
<td>1</td>
<td>0.245045</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>133946</td>
<td>85480</td>
<td>45172</td>
<td>21515</td>
<td>8486</td>
<td>9984</td>
<td>85157</td>
<td>323</td>
<td>...</td>
<td>2</td>
<td>0.530456</td>
<td>1</td>
<td>0.252651</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>106837</td>
<td>66496</td>
<td>35335</td>
<td>17299</td>
<td>6373</td>
<td>7278</td>
<td>66285</td>
<td>211</td>
<td>...</td>
<td>2</td>
<td>0.533077</td>
<td>1</td>
<td>0.260979</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>190910</td>
<td>117051</td>
<td>66096</td>
<td>25967</td>
<td>11087</td>
<td>13554</td>
<td>116704</td>
<td>347</td>
<td>...</td>
<td>2</td>
<td>0.566356</td>
<td>1</td>
<td>0.222503</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">260</td>
<td>경남</td>
<td>거창군</td>
<td>50823</td>
<td>34594</td>
<td>19863</td>
<td>3637</td>
<td>3399</td>
<td>6982</td>
<td>33881</td>
<td>713</td>
<td>...</td>
<td>2</td>
<td>0.586258</td>
<td>11</td>
<td>0.206074</td>
<td>보수정당</td>
<td>무소속</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261</td>
<td>경남</td>
<td>합천군</td>
<td>45959</td>
<td>31741</td>
<td>18867</td>
<td>2815</td>
<td>2889</td>
<td>6339</td>
<td>30910</td>
<td>831</td>
<td>...</td>
<td>2</td>
<td>0.610385</td>
<td>11</td>
<td>0.205079</td>
<td>보수정당</td>
<td>무소속</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">262</td>
<td>제주</td>
<td>합계</td>
<td>414022</td>
<td>252111</td>
<td>96495</td>
<td>81570</td>
<td>33962</td>
<td>37495</td>
<td>249522</td>
<td>2589</td>
<td>...</td>
<td>2</td>
<td>0.386719</td>
<td>1</td>
<td>0.326905</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">263</td>
<td>제주</td>
<td>제주시</td>
<td>296325</td>
<td>181304</td>
<td>70297</td>
<td>56798</td>
<td>24685</td>
<td>27824</td>
<td>179604</td>
<td>1700</td>
<td>...</td>
<td>2</td>
<td>0.391400</td>
<td>1</td>
<td>0.316240</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">264</td>
<td>제주</td>
<td>서귀포시</td>
<td>117697</td>
<td>70807</td>
<td>26198</td>
<td>24772</td>
<td>9277</td>
<td>9671</td>
<td>69918</td>
<td>889</td>
<td>...</td>
<td>2</td>
<td>0.374696</td>
<td>1</td>
<td>0.354301</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>7</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>265 rows × 21 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-044fdfbd-374f-4b97-8545-dc75484c9d2d')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-044fdfbd-374f-4b97-8545-dc75484c9d2d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-044fdfbd-374f-4b97-8545-dc75484c9d2d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-73eaf13f-71b3-4578-b9fb-01e07956cde7">
      <button class="colab-df-quickchart" onclick="quickchart('df-73eaf13f-71b3-4578-b9fb-01e07956cde7')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-73eaf13f-71b3-4578-b9fb-01e07956cde7 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_a1ff1dd6-faf1-41cb-8ac5-0c4d34e5254c">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_17')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_a1ff1dd6-faf1-41cb-8ac5-0c4d34e5254c button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_17');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<section id="preprocessing-3" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-3">preprocessing</h2>
<div id="cell-40" class="cell" data-outputid="548ede5c-d4d8-40f8-f379-3f0b032f2193" data-execution_count="26">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df_17[<span class="st">'시도'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>array(['전국', '서울', '부산', '대구', '인천', '광주', '대전', '울산', '경기', '강원', '충북',
       '충남', '전북', '전남', '경북', '경남', '제주'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-41" class="cell" data-outputid="a3733bae-e59b-424c-b02f-6b6b30e12a5e" data-execution_count="27">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df_17.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>Index(['시도', '구시군', '선거인수', '투표수', '보수정당', '진보정당', '그외정당', '무소속', '득표수_계',
       '무효투표수', '기권수', '득표_1위_후보번호', '득표_1위_득표율', '득표_2위_후보번호', '득표_2위_득표율',
       '득표_1위_정당', '득표_2위_정당', '보수정당_후보자수', '진보정당_후보자수', '그외정당_후보자수',
       '무소속_후보자수'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-42" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 고정 열 순서 정의</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>fixed_cols <span class="op">=</span> [</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'선거년도'</span>, <span class="st">'선거종류'</span>,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'보수정당_후보자수'</span>, <span class="st">'진보정당_후보자수'</span>,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'그외정당_후보자수'</span>, <span class="st">'무소속_후보자수'</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 나머지 열: fixed_cols에 포함되지 않은 열</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>other_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df_17.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> fixed_cols]</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 메소드 체이닝</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>df_17 <span class="op">=</span> (</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>    df_17</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>    .assign(선거종류<span class="op">=</span><span class="st">'대통령'</span>, 선거년도<span class="op">=</span><span class="st">'2007'</span>)</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>    .loc[:, fixed_cols <span class="op">+</span> other_cols]</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'시도'</span>: <span class="st">'지역'</span>})</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-43" class="cell" data-outputid="d5f7d93f-0c26-4446-a8d3-7fcf26fef593" data-execution_count="29">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>df_17</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">

  <div id="df-3b2064cc-870c-48ed-a5de-b94a988c01c1" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거년도</th>
<th data-quarto-table-cell-role="th">선거종류</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">기권수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.486700</td>
<td>1</td>
<td>0.261496</td>
<td>...</td>
<td>1</td>
<td>37653518</td>
<td>23732854</td>
<td>11492389</td>
<td>6174681</td>
<td>2385847</td>
<td>3559963</td>
<td>23612880</td>
<td>119974</td>
<td>13920664</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.532363</td>
<td>1</td>
<td>0.245045</td>
<td>...</td>
<td>1</td>
<td>8051696</td>
<td>5066022</td>
<td>2689162</td>
<td>1237812</td>
<td>528169</td>
<td>596226</td>
<td>5051369</td>
<td>14653</td>
<td>2985674</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.530456</td>
<td>1</td>
<td>0.252651</td>
<td>...</td>
<td>1</td>
<td>133946</td>
<td>85480</td>
<td>45172</td>
<td>21515</td>
<td>8486</td>
<td>9984</td>
<td>85157</td>
<td>323</td>
<td>48466</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.533077</td>
<td>1</td>
<td>0.260979</td>
<td>...</td>
<td>1</td>
<td>106837</td>
<td>66496</td>
<td>35335</td>
<td>17299</td>
<td>6373</td>
<td>7278</td>
<td>66285</td>
<td>211</td>
<td>40341</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.566356</td>
<td>1</td>
<td>0.222503</td>
<td>...</td>
<td>1</td>
<td>190910</td>
<td>117051</td>
<td>66096</td>
<td>25967</td>
<td>11087</td>
<td>13554</td>
<td>116704</td>
<td>347</td>
<td>73859</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">260</td>
<td>경남</td>
<td>거창군</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>무소속</td>
<td>2</td>
<td>0.586258</td>
<td>11</td>
<td>0.206074</td>
<td>...</td>
<td>1</td>
<td>50823</td>
<td>34594</td>
<td>19863</td>
<td>3637</td>
<td>3399</td>
<td>6982</td>
<td>33881</td>
<td>713</td>
<td>16229</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">261</td>
<td>경남</td>
<td>합천군</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>무소속</td>
<td>2</td>
<td>0.610385</td>
<td>11</td>
<td>0.205079</td>
<td>...</td>
<td>1</td>
<td>45959</td>
<td>31741</td>
<td>18867</td>
<td>2815</td>
<td>2889</td>
<td>6339</td>
<td>30910</td>
<td>831</td>
<td>14218</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">262</td>
<td>제주</td>
<td>합계</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.386719</td>
<td>1</td>
<td>0.326905</td>
<td>...</td>
<td>1</td>
<td>414022</td>
<td>252111</td>
<td>96495</td>
<td>81570</td>
<td>33962</td>
<td>37495</td>
<td>249522</td>
<td>2589</td>
<td>161911</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">263</td>
<td>제주</td>
<td>제주시</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.391400</td>
<td>1</td>
<td>0.316240</td>
<td>...</td>
<td>1</td>
<td>296325</td>
<td>181304</td>
<td>70297</td>
<td>56798</td>
<td>24685</td>
<td>27824</td>
<td>179604</td>
<td>1700</td>
<td>115021</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">264</td>
<td>제주</td>
<td>서귀포시</td>
<td>2007</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.374696</td>
<td>1</td>
<td>0.354301</td>
<td>...</td>
<td>1</td>
<td>117697</td>
<td>70807</td>
<td>26198</td>
<td>24772</td>
<td>9277</td>
<td>9671</td>
<td>69918</td>
<td>889</td>
<td>46890</td>
</tr>
</tbody>
</table>

<p>265 rows × 23 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-3b2064cc-870c-48ed-a5de-b94a988c01c1')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-3b2064cc-870c-48ed-a5de-b94a988c01c1 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-3b2064cc-870c-48ed-a5de-b94a988c01c1');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-b43c3af0-6ba5-4998-9a68-5a3dea5f733b">
      <button class="colab-df-quickchart" onclick="quickchart('df-b43c3af0-6ba5-4998-9a68-5a3dea5f733b')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-b43c3af0-6ba5-4998-9a68-5a3dea5f733b button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_15f2175c-0b1c-4671-8e3b-52686bb6f401">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_17')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_15f2175c-0b1c-4671-8e3b-52686bb6f401 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_17');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="v4.1-v4.3-3" class="level2">
<h2 class="anchored" data-anchor-id="v4.1-v4.3-3">v4.1 ~ v4.3</h2>
<div id="cell-45" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 전체 데이터 저장</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>df_17.to_csv(<span class="st">"temp4_1_president_17.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. '구시군' != '합계' 행만 추출하여 저장</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    df_17</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 != '합계'"</span>)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_2_president_17.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. '구시군' == '합계' 행만 추출 후 '구시군' 열 제거하여 저장</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    df_17</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 == '합계'"</span>)</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">"구시군"</span>)</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_3_president_17.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="th_2012" class="level1">
<h1>18th_2012</h1>
<div id="cell-47" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>df_18 <span class="op">=</span> election_results[<span class="st">'df_18'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-48" class="cell" data-outputid="77b39240-64f2-451c-eafa-21dcb8d8286a" data-execution_count="32">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>df_18</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">

  <div id="df-8492ce7c-c923-4169-af8b-9d7c4f3b3e69" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시도</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">보수정당_후보자수</th>
<th data-quarto-table-cell-role="th">진보정당_후보자수</th>
<th data-quarto-table-cell-role="th">그외정당_후보자수</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>40507842</td>
<td>30721459</td>
<td>15773128</td>
<td>14692632</td>
<td>0</td>
<td>128861</td>
<td>30594621</td>
<td>126838</td>
<td>...</td>
<td>1</td>
<td>0.515552</td>
<td>2</td>
<td>0.480236</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울특별시</td>
<td>합계</td>
<td>8393847</td>
<td>6307869</td>
<td>3024572</td>
<td>3227639</td>
<td>0</td>
<td>24488</td>
<td>6276699</td>
<td>31170</td>
<td>...</td>
<td>2</td>
<td>0.514226</td>
<td>1</td>
<td>0.481873</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울특별시</td>
<td>종로구</td>
<td>141447</td>
<td>103189</td>
<td>49422</td>
<td>52747</td>
<td>0</td>
<td>467</td>
<td>102636</td>
<td>553</td>
<td>...</td>
<td>2</td>
<td>0.513923</td>
<td>1</td>
<td>0.481527</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울특별시</td>
<td>중구</td>
<td>115277</td>
<td>83095</td>
<td>40289</td>
<td>41919</td>
<td>0</td>
<td>345</td>
<td>82553</td>
<td>542</td>
<td>...</td>
<td>2</td>
<td>0.507783</td>
<td>1</td>
<td>0.488038</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울특별시</td>
<td>용산구</td>
<td>206665</td>
<td>147849</td>
<td>76997</td>
<td>69572</td>
<td>0</td>
<td>565</td>
<td>147134</td>
<td>715</td>
<td>...</td>
<td>1</td>
<td>0.523312</td>
<td>2</td>
<td>0.472848</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">241</td>
<td>경상남도</td>
<td>거창군</td>
<td>51773</td>
<td>40103</td>
<td>28726</td>
<td>10466</td>
<td>0</td>
<td>402</td>
<td>39594</td>
<td>509</td>
<td>...</td>
<td>1</td>
<td>0.725514</td>
<td>2</td>
<td>0.264333</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">242</td>
<td>경상남도</td>
<td>합천군</td>
<td>43981</td>
<td>33586</td>
<td>25313</td>
<td>7114</td>
<td>0</td>
<td>536</td>
<td>32963</td>
<td>623</td>
<td>...</td>
<td>1</td>
<td>0.767922</td>
<td>2</td>
<td>0.215818</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">243</td>
<td>제주특별자치도</td>
<td>합계</td>
<td>451731</td>
<td>330967</td>
<td>166184</td>
<td>161235</td>
<td>0</td>
<td>1916</td>
<td>329335</td>
<td>1632</td>
<td>...</td>
<td>1</td>
<td>0.504605</td>
<td>2</td>
<td>0.489577</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">244</td>
<td>제주특별자치도</td>
<td>제주시</td>
<td>328450</td>
<td>241552</td>
<td>119563</td>
<td>119622</td>
<td>0</td>
<td>1301</td>
<td>240486</td>
<td>1066</td>
<td>...</td>
<td>2</td>
<td>0.497418</td>
<td>1</td>
<td>0.497172</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">245</td>
<td>제주특별자치도</td>
<td>서귀포시</td>
<td>123281</td>
<td>89415</td>
<td>46621</td>
<td>41613</td>
<td>0</td>
<td>615</td>
<td>88849</td>
<td>566</td>
<td>...</td>
<td>1</td>
<td>0.524722</td>
<td>2</td>
<td>0.468356</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>4</td>
</tr>
</tbody>
</table>

<p>246 rows × 21 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-8492ce7c-c923-4169-af8b-9d7c4f3b3e69')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-8492ce7c-c923-4169-af8b-9d7c4f3b3e69 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-8492ce7c-c923-4169-af8b-9d7c4f3b3e69');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-12bc0c65-a122-4ea9-b67d-bdfa72b7c6bb">
      <button class="colab-df-quickchart" onclick="quickchart('df-12bc0c65-a122-4ea9-b67d-bdfa72b7c6bb')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-12bc0c65-a122-4ea9-b67d-bdfa72b7c6bb button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_734fae14-e0c0-4d84-9e88-d992cc01a10e">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_18')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_734fae14-e0c0-4d84-9e88-d992cc01a10e button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_18');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<section id="preprocessing-4" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-4">preprocessing</h2>
<div id="cell-50" class="cell" data-outputid="2b7a74ea-338d-4725-cd63-afd8a8e63cd5" data-execution_count="33">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df_18[<span class="st">'시도'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>array(['전국', '서울특별시', '부산광역시', '대구광역시', '인천광역시', '광주광역시', '대전광역시',
       '울산광역시', '세종특별자치시', '경기도', '강원도', '충청북도', '충청남도', '전라북도', '전라남도',
       '경상북도', '경상남도', '제주특별자치도'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-51" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 지역명 매핑 딕셔너리 정의</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>region_mapping <span class="op">=</span> {</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'서울특별시'</span>: <span class="st">'서울'</span>,</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'부산광역시'</span>: <span class="st">'부산'</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대구광역시'</span>: <span class="st">'대구'</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'인천광역시'</span>: <span class="st">'인천'</span>,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'광주광역시'</span>: <span class="st">'광주'</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대전광역시'</span>: <span class="st">'대전'</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'울산광역시'</span>: <span class="st">'울산'</span>,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'세종특별자치시'</span>: <span class="st">'세종'</span>,</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경기도'</span>: <span class="st">'경기'</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'강원도'</span>: <span class="st">'강원'</span>,</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청북도'</span>: <span class="st">'충북'</span>,</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청남도'</span>: <span class="st">'충남'</span>,</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'전라북도'</span>: <span class="st">'전북'</span>,</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'전라남도'</span>: <span class="st">'전남'</span>,</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경상북도'</span>: <span class="st">'경북'</span>,</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경상남도'</span>: <span class="st">'경남'</span>,</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'제주특별자치도'</span>: <span class="st">'제주'</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 지역명 변경</span></span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>df_18 <span class="op">=</span> df_18.replace({<span class="st">'시도'</span>: region_mapping})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-52" class="cell" data-outputid="a5b7cd27-5faf-4421-9fa9-92ad50ffe1a1" data-execution_count="35">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>df_18.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>Index(['시도', '구시군', '선거인수', '투표수', '보수정당', '진보정당', '그외정당', '무소속', '득표수_계',
       '무효투표수', '기권수', '득표_1위_후보번호', '득표_1위_득표율', '득표_2위_후보번호', '득표_2위_득표율',
       '득표_1위_정당', '득표_2위_정당', '보수정당_후보자수', '진보정당_후보자수', '그외정당_후보자수',
       '무소속_후보자수'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-53" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 고정 열 순서 정의</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>fixed_cols <span class="op">=</span> [</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'선거년도'</span>, <span class="st">'선거종류'</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'보수정당_후보자수'</span>, <span class="st">'진보정당_후보자수'</span>,</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'그외정당_후보자수'</span>, <span class="st">'무소속_후보자수'</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 나머지 열: fixed_cols에 포함되지 않은 열</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>other_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df_18.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> fixed_cols]</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 메소드 체이닝</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>df_18 <span class="op">=</span> (</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    df_18</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    .assign(선거종류<span class="op">=</span><span class="st">'대통령'</span>, 선거년도<span class="op">=</span><span class="st">'2012'</span>)</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    .loc[:, fixed_cols <span class="op">+</span> other_cols]</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'시도'</span>: <span class="st">'지역'</span>})</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-54" class="cell" data-outputid="1b785a97-6f40-497e-f6ba-f4518d153b92" data-execution_count="37">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>df_18</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">

  <div id="df-a3feb970-093c-4ab4-9a4b-3e71f3cdc903" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거년도</th>
<th data-quarto-table-cell-role="th">선거종류</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">기권수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>2012</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.515552</td>
<td>2</td>
<td>0.480236</td>
<td>...</td>
<td>4</td>
<td>40507842</td>
<td>30721459</td>
<td>15773128</td>
<td>14692632</td>
<td>0</td>
<td>128861</td>
<td>30594621</td>
<td>126838</td>
<td>9786383</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>2012</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.514226</td>
<td>1</td>
<td>0.481873</td>
<td>...</td>
<td>4</td>
<td>8393847</td>
<td>6307869</td>
<td>3024572</td>
<td>3227639</td>
<td>0</td>
<td>24488</td>
<td>6276699</td>
<td>31170</td>
<td>2085978</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>2012</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.513923</td>
<td>1</td>
<td>0.481527</td>
<td>...</td>
<td>4</td>
<td>141447</td>
<td>103189</td>
<td>49422</td>
<td>52747</td>
<td>0</td>
<td>467</td>
<td>102636</td>
<td>553</td>
<td>38258</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>2012</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.507783</td>
<td>1</td>
<td>0.488038</td>
<td>...</td>
<td>4</td>
<td>115277</td>
<td>83095</td>
<td>40289</td>
<td>41919</td>
<td>0</td>
<td>345</td>
<td>82553</td>
<td>542</td>
<td>32182</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>2012</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.523312</td>
<td>2</td>
<td>0.472848</td>
<td>...</td>
<td>4</td>
<td>206665</td>
<td>147849</td>
<td>76997</td>
<td>69572</td>
<td>0</td>
<td>565</td>
<td>147134</td>
<td>715</td>
<td>58816</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">241</td>
<td>경남</td>
<td>거창군</td>
<td>2012</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.725514</td>
<td>2</td>
<td>0.264333</td>
<td>...</td>
<td>4</td>
<td>51773</td>
<td>40103</td>
<td>28726</td>
<td>10466</td>
<td>0</td>
<td>402</td>
<td>39594</td>
<td>509</td>
<td>11670</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">242</td>
<td>경남</td>
<td>합천군</td>
<td>2012</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.767922</td>
<td>2</td>
<td>0.215818</td>
<td>...</td>
<td>4</td>
<td>43981</td>
<td>33586</td>
<td>25313</td>
<td>7114</td>
<td>0</td>
<td>536</td>
<td>32963</td>
<td>623</td>
<td>10395</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">243</td>
<td>제주</td>
<td>합계</td>
<td>2012</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.504605</td>
<td>2</td>
<td>0.489577</td>
<td>...</td>
<td>4</td>
<td>451731</td>
<td>330967</td>
<td>166184</td>
<td>161235</td>
<td>0</td>
<td>1916</td>
<td>329335</td>
<td>1632</td>
<td>120764</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">244</td>
<td>제주</td>
<td>제주시</td>
<td>2012</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>2</td>
<td>0.497418</td>
<td>1</td>
<td>0.497172</td>
<td>...</td>
<td>4</td>
<td>328450</td>
<td>241552</td>
<td>119563</td>
<td>119622</td>
<td>0</td>
<td>1301</td>
<td>240486</td>
<td>1066</td>
<td>86898</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">245</td>
<td>제주</td>
<td>서귀포시</td>
<td>2012</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>0.524722</td>
<td>2</td>
<td>0.468356</td>
<td>...</td>
<td>4</td>
<td>123281</td>
<td>89415</td>
<td>46621</td>
<td>41613</td>
<td>0</td>
<td>615</td>
<td>88849</td>
<td>566</td>
<td>33866</td>
</tr>
</tbody>
</table>

<p>246 rows × 23 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-a3feb970-093c-4ab4-9a4b-3e71f3cdc903')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-a3feb970-093c-4ab4-9a4b-3e71f3cdc903 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-a3feb970-093c-4ab4-9a4b-3e71f3cdc903');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-78d25694-45ea-4302-a7cd-adc6de720adc">
      <button class="colab-df-quickchart" onclick="quickchart('df-78d25694-45ea-4302-a7cd-adc6de720adc')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-78d25694-45ea-4302-a7cd-adc6de720adc button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_4ad3640f-9ec7-42e0-9749-3b8aea8a0042">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_18')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_4ad3640f-9ec7-42e0-9749-3b8aea8a0042 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_18');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="v4.1-v4.3-4" class="level2">
<h2 class="anchored" data-anchor-id="v4.1-v4.3-4">v4.1 ~ v4.3</h2>
<div id="cell-56" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 전체 데이터 저장</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>df_18.to_csv(<span class="st">"temp4_1_president_18.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. '구시군' != '합계' 행만 추출하여 저장</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    df_18</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 != '합계'"</span>)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_2_president_18.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. '구시군' == '합계' 행만 추출 후 '구시군' 열 제거하여 저장</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    df_18</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 == '합계'"</span>)</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">"구시군"</span>)</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_3_president_18.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="th_2017" class="level1">
<h1>19th_2017</h1>
<div id="cell-58" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>df_19 <span class="op">=</span> election_results[<span class="st">'df_19'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-59" class="cell" data-outputid="39fbcc05-0bab-46a2-e4ad-cf7b3b0b2a01" data-execution_count="40">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>df_19</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">

  <div id="df-168703b0-fe1a-4576-908c-7e6a3a254ee5" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시도</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">보수정당_후보자수</th>
<th data-quarto-table-cell-role="th">진보정당_후보자수</th>
<th data-quarto-table-cell-role="th">그외정당_후보자수</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>42479710</td>
<td>32807908</td>
<td>7852849</td>
<td>13423800</td>
<td>11361536</td>
<td>33990</td>
<td>32672175</td>
<td>135733</td>
<td>...</td>
<td>1</td>
<td>0.410863</td>
<td>2</td>
<td>0.240353</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울특별시</td>
<td>합계</td>
<td>8382999</td>
<td>6590646</td>
<td>1365285</td>
<td>2781345</td>
<td>2418337</td>
<td>3950</td>
<td>6568917</td>
<td>21729</td>
<td>...</td>
<td>1</td>
<td>0.423410</td>
<td>3</td>
<td>0.227247</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울특별시</td>
<td>종로구</td>
<td>133769</td>
<td>102566</td>
<td>22325</td>
<td>42512</td>
<td>37316</td>
<td>49</td>
<td>102202</td>
<td>364</td>
<td>...</td>
<td>1</td>
<td>0.415961</td>
<td>2</td>
<td>0.218440</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울특별시</td>
<td>중구</td>
<td>109836</td>
<td>82852</td>
<td>17901</td>
<td>34062</td>
<td>30581</td>
<td>51</td>
<td>82595</td>
<td>257</td>
<td>...</td>
<td>1</td>
<td>0.412398</td>
<td>3</td>
<td>0.234542</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울특별시</td>
<td>용산구</td>
<td>197962</td>
<td>148157</td>
<td>35230</td>
<td>58081</td>
<td>54269</td>
<td>80</td>
<td>147660</td>
<td>497</td>
<td>...</td>
<td>1</td>
<td>0.393343</td>
<td>2</td>
<td>0.238589</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">263</td>
<td>경상남도</td>
<td>거창군</td>
<td>53345</td>
<td>41325</td>
<td>19976</td>
<td>11256</td>
<td>9617</td>
<td>100</td>
<td>40949</td>
<td>376</td>
<td>...</td>
<td>2</td>
<td>0.487826</td>
<td>1</td>
<td>0.274879</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">264</td>
<td>경상남도</td>
<td>합천군</td>
<td>42887</td>
<td>33021</td>
<td>19699</td>
<td>7143</td>
<td>5793</td>
<td>76</td>
<td>32711</td>
<td>310</td>
<td>...</td>
<td>2</td>
<td>0.602213</td>
<td>1</td>
<td>0.218367</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">265</td>
<td>제주특별자치도</td>
<td>합계</td>
<td>518000</td>
<td>374459</td>
<td>68063</td>
<td>169493</td>
<td>134300</td>
<td>556</td>
<td>372412</td>
<td>2047</td>
<td>...</td>
<td>1</td>
<td>0.455122</td>
<td>3</td>
<td>0.209072</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">266</td>
<td>제주특별자치도</td>
<td>제주시</td>
<td>375292</td>
<td>273163</td>
<td>48027</td>
<td>125717</td>
<td>97668</td>
<td>368</td>
<td>271780</td>
<td>1383</td>
<td>...</td>
<td>1</td>
<td>0.462569</td>
<td>3</td>
<td>0.205942</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">267</td>
<td>제주특별자치도</td>
<td>서귀포시</td>
<td>142708</td>
<td>101296</td>
<td>20036</td>
<td>43776</td>
<td>36632</td>
<td>188</td>
<td>100632</td>
<td>664</td>
<td>...</td>
<td>1</td>
<td>0.435011</td>
<td>3</td>
<td>0.217525</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>268 rows × 21 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-168703b0-fe1a-4576-908c-7e6a3a254ee5')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-168703b0-fe1a-4576-908c-7e6a3a254ee5 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-168703b0-fe1a-4576-908c-7e6a3a254ee5');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-3cf17618-f4db-4d5a-8a8d-244055199b90">
      <button class="colab-df-quickchart" onclick="quickchart('df-3cf17618-f4db-4d5a-8a8d-244055199b90')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-3cf17618-f4db-4d5a-8a8d-244055199b90 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_fd42aeca-4215-4819-a4f9-35469ae69f4d">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_19')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_fd42aeca-4215-4819-a4f9-35469ae69f4d button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_19');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<section id="preprocessing-5" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-5">preprocessing</h2>
<div id="cell-61" class="cell" data-outputid="292c27f5-80fa-4e5e-82cb-0f460eb4a4f3" data-execution_count="41">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df_19[<span class="st">'시도'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>array(['전국', '서울특별시', '부산광역시', '대구광역시', '인천광역시', '광주광역시', '대전광역시',
       '울산광역시', '세종특별자치시', '경기도', '강원도', '충청북도', '충청남도', '전라북도', '전라남도',
       '경상북도', '경상남도', '제주특별자치도'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-62" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 지역명 매핑 딕셔너리 정의</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>region_mapping <span class="op">=</span> {</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'서울특별시'</span>: <span class="st">'서울'</span>,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'부산광역시'</span>: <span class="st">'부산'</span>,</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대구광역시'</span>: <span class="st">'대구'</span>,</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'인천광역시'</span>: <span class="st">'인천'</span>,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'광주광역시'</span>: <span class="st">'광주'</span>,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대전광역시'</span>: <span class="st">'대전'</span>,</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'울산광역시'</span>: <span class="st">'울산'</span>,</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'세종특별자치시'</span>: <span class="st">'세종'</span>,</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경기도'</span>: <span class="st">'경기'</span>,</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'강원도'</span>: <span class="st">'강원'</span>,</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청북도'</span>: <span class="st">'충북'</span>,</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청남도'</span>: <span class="st">'충남'</span>,</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'전라북도'</span>: <span class="st">'전북'</span>,</span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'전라남도'</span>: <span class="st">'전남'</span>,</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경상북도'</span>: <span class="st">'경북'</span>,</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경상남도'</span>: <span class="st">'경남'</span>,</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'제주특별자치도'</span>: <span class="st">'제주'</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 지역명 변경</span></span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>df_19 <span class="op">=</span> df_19.replace({<span class="st">'시도'</span>: region_mapping})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-63" class="cell" data-outputid="00b1a1b7-4ebc-4576-b8eb-0b5446043d71" data-execution_count="43">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df_19.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>Index(['시도', '구시군', '선거인수', '투표수', '보수정당', '진보정당', '그외정당', '무소속', '득표수_계',
       '무효투표수', '기권수', '득표_1위_후보번호', '득표_1위_득표율', '득표_2위_후보번호', '득표_2위_득표율',
       '득표_1위_정당', '득표_2위_정당', '보수정당_후보자수', '진보정당_후보자수', '그외정당_후보자수',
       '무소속_후보자수'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-64" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 고정 열 순서 정의</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>fixed_cols <span class="op">=</span> [</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'선거년도'</span>, <span class="st">'선거종류'</span>,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>,</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'보수정당_후보자수'</span>, <span class="st">'진보정당_후보자수'</span>,</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'그외정당_후보자수'</span>, <span class="st">'무소속_후보자수'</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 나머지 열: fixed_cols에 포함되지 않은 열</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>other_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df_19.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> fixed_cols]</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 메소드 체이닝</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>df_19 <span class="op">=</span> (</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>    df_19</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>    .assign(선거종류<span class="op">=</span><span class="st">'대통령'</span>, 선거년도<span class="op">=</span><span class="st">'2017'</span>)</span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>    .loc[:, fixed_cols <span class="op">+</span> other_cols]</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'시도'</span>: <span class="st">'지역'</span>})</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-65" class="cell" data-outputid="c531e503-504e-463b-cc8a-8b01b222572e" data-execution_count="45">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>df_19</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">

  <div id="df-6f9c99b5-8dfd-407b-bebc-738ed9fc0b3d" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거년도</th>
<th data-quarto-table-cell-role="th">선거종류</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">기권수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>2017</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.410863</td>
<td>2</td>
<td>0.240353</td>
<td>...</td>
<td>1</td>
<td>42479710</td>
<td>32807908</td>
<td>7852849</td>
<td>13423800</td>
<td>11361536</td>
<td>33990</td>
<td>32672175</td>
<td>135733</td>
<td>9671802</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>2017</td>
<td>대통령</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>0.423410</td>
<td>3</td>
<td>0.227247</td>
<td>...</td>
<td>1</td>
<td>8382999</td>
<td>6590646</td>
<td>1365285</td>
<td>2781345</td>
<td>2418337</td>
<td>3950</td>
<td>6568917</td>
<td>21729</td>
<td>1792353</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>2017</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.415961</td>
<td>2</td>
<td>0.218440</td>
<td>...</td>
<td>1</td>
<td>133769</td>
<td>102566</td>
<td>22325</td>
<td>42512</td>
<td>37316</td>
<td>49</td>
<td>102202</td>
<td>364</td>
<td>31203</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>2017</td>
<td>대통령</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>0.412398</td>
<td>3</td>
<td>0.234542</td>
<td>...</td>
<td>1</td>
<td>109836</td>
<td>82852</td>
<td>17901</td>
<td>34062</td>
<td>30581</td>
<td>51</td>
<td>82595</td>
<td>257</td>
<td>26984</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>2017</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.393343</td>
<td>2</td>
<td>0.238589</td>
<td>...</td>
<td>1</td>
<td>197962</td>
<td>148157</td>
<td>35230</td>
<td>58081</td>
<td>54269</td>
<td>80</td>
<td>147660</td>
<td>497</td>
<td>49805</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">263</td>
<td>경남</td>
<td>거창군</td>
<td>2017</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.487826</td>
<td>1</td>
<td>0.274879</td>
<td>...</td>
<td>1</td>
<td>53345</td>
<td>41325</td>
<td>19976</td>
<td>11256</td>
<td>9617</td>
<td>100</td>
<td>40949</td>
<td>376</td>
<td>12020</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">264</td>
<td>경남</td>
<td>합천군</td>
<td>2017</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.602213</td>
<td>1</td>
<td>0.218367</td>
<td>...</td>
<td>1</td>
<td>42887</td>
<td>33021</td>
<td>19699</td>
<td>7143</td>
<td>5793</td>
<td>76</td>
<td>32711</td>
<td>310</td>
<td>9866</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">265</td>
<td>제주</td>
<td>합계</td>
<td>2017</td>
<td>대통령</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>0.455122</td>
<td>3</td>
<td>0.209072</td>
<td>...</td>
<td>1</td>
<td>518000</td>
<td>374459</td>
<td>68063</td>
<td>169493</td>
<td>134300</td>
<td>556</td>
<td>372412</td>
<td>2047</td>
<td>143541</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">266</td>
<td>제주</td>
<td>제주시</td>
<td>2017</td>
<td>대통령</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>0.462569</td>
<td>3</td>
<td>0.205942</td>
<td>...</td>
<td>1</td>
<td>375292</td>
<td>273163</td>
<td>48027</td>
<td>125717</td>
<td>97668</td>
<td>368</td>
<td>271780</td>
<td>1383</td>
<td>102129</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">267</td>
<td>제주</td>
<td>서귀포시</td>
<td>2017</td>
<td>대통령</td>
<td>진보정당</td>
<td>그외정당</td>
<td>1</td>
<td>0.435011</td>
<td>3</td>
<td>0.217525</td>
<td>...</td>
<td>1</td>
<td>142708</td>
<td>101296</td>
<td>20036</td>
<td>43776</td>
<td>36632</td>
<td>188</td>
<td>100632</td>
<td>664</td>
<td>41412</td>
</tr>
</tbody>
</table>

<p>268 rows × 23 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-6f9c99b5-8dfd-407b-bebc-738ed9fc0b3d')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-6f9c99b5-8dfd-407b-bebc-738ed9fc0b3d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-6f9c99b5-8dfd-407b-bebc-738ed9fc0b3d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-305633ba-2b05-4d10-8b49-ae526e8d6d9c">
      <button class="colab-df-quickchart" onclick="quickchart('df-305633ba-2b05-4d10-8b49-ae526e8d6d9c')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-305633ba-2b05-4d10-8b49-ae526e8d6d9c button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_ffc1eaed-8cc1-40e5-882e-4c98ce357abd">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_19')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_ffc1eaed-8cc1-40e5-882e-4c98ce357abd button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_19');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="v4.1-v4.3-5" class="level2">
<h2 class="anchored" data-anchor-id="v4.1-v4.3-5">v4.1 ~ v4.3</h2>
<div id="cell-67" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 전체 데이터 저장</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>df_19.to_csv(<span class="st">"temp4_1_president_19.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. '구시군' != '합계' 행만 추출하여 저장</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    df_19</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 != '합계'"</span>)</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_2_president_19.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. '구시군' == '합계' 행만 추출 후 '구시군' 열 제거하여 저장</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>    df_19</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 == '합계'"</span>)</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">"구시군"</span>)</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_3_president_19.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="th_2022" class="level1">
<h1>20th_2022</h1>
<div id="cell-69" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>df_20 <span class="op">=</span> election_results[<span class="st">'df_20'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-70" class="cell" data-outputid="d0bc4f60-5ab2-4148-e31e-582bb0d68e49" data-execution_count="48">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>df_20</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">

  <div id="df-a2d16542-a242-46ed-9fd1-29792d11715f" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시도</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">보수정당_후보자수</th>
<th data-quarto-table-cell-role="th">진보정당_후보자수</th>
<th data-quarto-table-cell-role="th">그외정당_후보자수</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>44197692</td>
<td>34067853</td>
<td>16394815</td>
<td>16147738</td>
<td>1217758</td>
<td>0</td>
<td>33760311</td>
<td>307542</td>
<td>...</td>
<td>2</td>
<td>0.485624</td>
<td>1</td>
<td>0.478305</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울특별시</td>
<td>합계</td>
<td>8346647</td>
<td>6501831</td>
<td>3255747</td>
<td>2944981</td>
<td>238411</td>
<td>0</td>
<td>6439139</td>
<td>62692</td>
<td>...</td>
<td>2</td>
<td>0.505618</td>
<td>1</td>
<td>0.457356</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울특별시</td>
<td>종로구</td>
<td>129968</td>
<td>100629</td>
<td>49172</td>
<td>46130</td>
<td>4064</td>
<td>0</td>
<td>99366</td>
<td>1263</td>
<td>...</td>
<td>2</td>
<td>0.494857</td>
<td>1</td>
<td>0.464243</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울특별시</td>
<td>중구</td>
<td>111448</td>
<td>84998</td>
<td>42906</td>
<td>38244</td>
<td>3034</td>
<td>0</td>
<td>84184</td>
<td>814</td>
<td>...</td>
<td>2</td>
<td>0.509669</td>
<td>1</td>
<td>0.454291</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울특별시</td>
<td>용산구</td>
<td>199077</td>
<td>152068</td>
<td>85047</td>
<td>60063</td>
<td>5572</td>
<td>0</td>
<td>150682</td>
<td>1386</td>
<td>...</td>
<td>2</td>
<td>0.564414</td>
<td>1</td>
<td>0.398608</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">263</td>
<td>경상남도</td>
<td>거창군</td>
<td>53049</td>
<td>41399</td>
<td>27254</td>
<td>11963</td>
<td>1728</td>
<td>0</td>
<td>40945</td>
<td>454</td>
<td>...</td>
<td>2</td>
<td>0.665625</td>
<td>1</td>
<td>0.292172</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">264</td>
<td>경상남도</td>
<td>합천군</td>
<td>39768</td>
<td>31270</td>
<td>22742</td>
<td>6911</td>
<td>1179</td>
<td>0</td>
<td>30832</td>
<td>438</td>
<td>...</td>
<td>2</td>
<td>0.737610</td>
<td>1</td>
<td>0.224150</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">265</td>
<td>제주특별자치도</td>
<td>합계</td>
<td>564354</td>
<td>409649</td>
<td>173014</td>
<td>213130</td>
<td>19094</td>
<td>0</td>
<td>405238</td>
<td>4411</td>
<td>...</td>
<td>1</td>
<td>0.525938</td>
<td>2</td>
<td>0.426944</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">266</td>
<td>제주특별자치도</td>
<td>제주시</td>
<td>408552</td>
<td>296826</td>
<td>122084</td>
<td>157695</td>
<td>13870</td>
<td>0</td>
<td>293649</td>
<td>3177</td>
<td>...</td>
<td>1</td>
<td>0.537019</td>
<td>2</td>
<td>0.415748</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">267</td>
<td>제주특별자치도</td>
<td>서귀포시</td>
<td>155802</td>
<td>112823</td>
<td>50930</td>
<td>55435</td>
<td>5224</td>
<td>0</td>
<td>111589</td>
<td>1234</td>
<td>...</td>
<td>1</td>
<td>0.496778</td>
<td>2</td>
<td>0.456407</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>10</td>
<td>0</td>
</tr>
</tbody>
</table>

<p>268 rows × 21 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-a2d16542-a242-46ed-9fd1-29792d11715f')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-a2d16542-a242-46ed-9fd1-29792d11715f button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-a2d16542-a242-46ed-9fd1-29792d11715f');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-44d6af01-08ee-4662-a96e-253d73d12960">
      <button class="colab-df-quickchart" onclick="quickchart('df-44d6af01-08ee-4662-a96e-253d73d12960')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-44d6af01-08ee-4662-a96e-253d73d12960 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_a03cbbc7-3c57-4c24-8d2b-9808604b11b6">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_20')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_a03cbbc7-3c57-4c24-8d2b-9808604b11b6 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_20');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<section id="preprocessing-6" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-6">preprocessing</h2>
<div id="cell-72" class="cell" data-outputid="bd290d5b-eb88-4e1a-e05a-c22aaa4bf09d" data-execution_count="49">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>df_20[<span class="st">'시도'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>array(['전국', '서울특별시', '부산광역시', '대구광역시', '인천광역시', '광주광역시', '대전광역시',
       '울산광역시', '세종특별자치시', '경기도', '강원도', '충청북도', '충청남도', '전라북도', '전라남도',
       '경상북도', '경상남도', '제주특별자치도'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-73" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 지역명 매핑 딕셔너리 정의</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>region_mapping <span class="op">=</span> {</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'서울특별시'</span>: <span class="st">'서울'</span>,</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'부산광역시'</span>: <span class="st">'부산'</span>,</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대구광역시'</span>: <span class="st">'대구'</span>,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'인천광역시'</span>: <span class="st">'인천'</span>,</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'광주광역시'</span>: <span class="st">'광주'</span>,</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대전광역시'</span>: <span class="st">'대전'</span>,</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'울산광역시'</span>: <span class="st">'울산'</span>,</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'세종특별자치시'</span>: <span class="st">'세종'</span>,</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경기도'</span>: <span class="st">'경기'</span>,</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'강원도'</span>: <span class="st">'강원'</span>,</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청북도'</span>: <span class="st">'충북'</span>,</span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청남도'</span>: <span class="st">'충남'</span>,</span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'전라북도'</span>: <span class="st">'전북'</span>,</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'전라남도'</span>: <span class="st">'전남'</span>,</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경상북도'</span>: <span class="st">'경북'</span>,</span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경상남도'</span>: <span class="st">'경남'</span>,</span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'제주특별자치도'</span>: <span class="st">'제주'</span></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 지역명 변경</span></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a>df_20 <span class="op">=</span> df_20.replace({<span class="st">'시도'</span>: region_mapping})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-74" class="cell" data-outputid="b86c5fae-a63f-440b-9281-a4dfe713581d" data-execution_count="51">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>df_20.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>Index(['시도', '구시군', '선거인수', '투표수', '보수정당', '진보정당', '그외정당', '무소속', '득표수_계',
       '무효투표수', '기권수', '득표_1위_후보번호', '득표_1위_득표율', '득표_2위_후보번호', '득표_2위_득표율',
       '득표_1위_정당', '득표_2위_정당', '보수정당_후보자수', '진보정당_후보자수', '그외정당_후보자수',
       '무소속_후보자수'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-75" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 고정 열 순서 정의</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>fixed_cols <span class="op">=</span> [</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'선거년도'</span>, <span class="st">'선거종류'</span>,</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'보수정당_후보자수'</span>, <span class="st">'진보정당_후보자수'</span>,</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'그외정당_후보자수'</span>, <span class="st">'무소속_후보자수'</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 나머지 열: fixed_cols에 포함되지 않은 열</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>other_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df_20.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> fixed_cols]</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 메소드 체이닝</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>df_20 <span class="op">=</span> (</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>    df_20</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>    .assign(선거종류<span class="op">=</span><span class="st">'대통령'</span>, 선거년도<span class="op">=</span><span class="st">'2022'</span>)</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>    .loc[:, fixed_cols <span class="op">+</span> other_cols]</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'시도'</span>: <span class="st">'지역'</span>})</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-76" class="cell" data-outputid="ca5522c0-0ab7-454d-e9fe-1cafd836c62e" data-execution_count="53">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>df_20</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">

  <div id="df-73b25d1d-c1da-4d1a-93d1-59facd139125" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거년도</th>
<th data-quarto-table-cell-role="th">선거종류</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">기권수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>2022</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.485624</td>
<td>1</td>
<td>0.478305</td>
<td>...</td>
<td>0</td>
<td>44197692</td>
<td>34067853</td>
<td>16394815</td>
<td>16147738</td>
<td>1217758</td>
<td>0</td>
<td>33760311</td>
<td>307542</td>
<td>10129839</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>2022</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.505618</td>
<td>1</td>
<td>0.457356</td>
<td>...</td>
<td>0</td>
<td>8346647</td>
<td>6501831</td>
<td>3255747</td>
<td>2944981</td>
<td>238411</td>
<td>0</td>
<td>6439139</td>
<td>62692</td>
<td>1844816</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>2022</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.494857</td>
<td>1</td>
<td>0.464243</td>
<td>...</td>
<td>0</td>
<td>129968</td>
<td>100629</td>
<td>49172</td>
<td>46130</td>
<td>4064</td>
<td>0</td>
<td>99366</td>
<td>1263</td>
<td>29339</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>2022</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.509669</td>
<td>1</td>
<td>0.454291</td>
<td>...</td>
<td>0</td>
<td>111448</td>
<td>84998</td>
<td>42906</td>
<td>38244</td>
<td>3034</td>
<td>0</td>
<td>84184</td>
<td>814</td>
<td>26450</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>2022</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.564414</td>
<td>1</td>
<td>0.398608</td>
<td>...</td>
<td>0</td>
<td>199077</td>
<td>152068</td>
<td>85047</td>
<td>60063</td>
<td>5572</td>
<td>0</td>
<td>150682</td>
<td>1386</td>
<td>47009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">263</td>
<td>경남</td>
<td>거창군</td>
<td>2022</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.665625</td>
<td>1</td>
<td>0.292172</td>
<td>...</td>
<td>0</td>
<td>53049</td>
<td>41399</td>
<td>27254</td>
<td>11963</td>
<td>1728</td>
<td>0</td>
<td>40945</td>
<td>454</td>
<td>11650</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">264</td>
<td>경남</td>
<td>합천군</td>
<td>2022</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.737610</td>
<td>1</td>
<td>0.224150</td>
<td>...</td>
<td>0</td>
<td>39768</td>
<td>31270</td>
<td>22742</td>
<td>6911</td>
<td>1179</td>
<td>0</td>
<td>30832</td>
<td>438</td>
<td>8498</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">265</td>
<td>제주</td>
<td>합계</td>
<td>2022</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.525938</td>
<td>2</td>
<td>0.426944</td>
<td>...</td>
<td>0</td>
<td>564354</td>
<td>409649</td>
<td>173014</td>
<td>213130</td>
<td>19094</td>
<td>0</td>
<td>405238</td>
<td>4411</td>
<td>154705</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">266</td>
<td>제주</td>
<td>제주시</td>
<td>2022</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.537019</td>
<td>2</td>
<td>0.415748</td>
<td>...</td>
<td>0</td>
<td>408552</td>
<td>296826</td>
<td>122084</td>
<td>157695</td>
<td>13870</td>
<td>0</td>
<td>293649</td>
<td>3177</td>
<td>111726</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">267</td>
<td>제주</td>
<td>서귀포시</td>
<td>2022</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.496778</td>
<td>2</td>
<td>0.456407</td>
<td>...</td>
<td>0</td>
<td>155802</td>
<td>112823</td>
<td>50930</td>
<td>55435</td>
<td>5224</td>
<td>0</td>
<td>111589</td>
<td>1234</td>
<td>42979</td>
</tr>
</tbody>
</table>

<p>268 rows × 23 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-73b25d1d-c1da-4d1a-93d1-59facd139125')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-73b25d1d-c1da-4d1a-93d1-59facd139125 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-73b25d1d-c1da-4d1a-93d1-59facd139125');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-16f1f7b6-3d13-4233-ac9b-708530f3052a">
      <button class="colab-df-quickchart" onclick="quickchart('df-16f1f7b6-3d13-4233-ac9b-708530f3052a')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-16f1f7b6-3d13-4233-ac9b-708530f3052a button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_ac4ea0cf-13a1-4535-a520-0ab2747d799f">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_20')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_ac4ea0cf-13a1-4535-a520-0ab2747d799f button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_20');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="v4.1-v4.3-6" class="level2">
<h2 class="anchored" data-anchor-id="v4.1-v4.3-6">v4.1 ~ v4.3</h2>
<div id="cell-78" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 전체 데이터 저장</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>df_20.to_csv(<span class="st">"temp4_1_president_20.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. '구시군' != '합계' 행만 추출하여 저장</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>    df_20</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 != '합계'"</span>)</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_2_president_20.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. '구시군' == '합계' 행만 추출 후 '구시군' 열 제거하여 저장</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>    df_20</span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 == '합계'"</span>)</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">"구시군"</span>)</span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_3_president_20.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="st_2025" class="level1">
<h1>21st_2025</h1>
<div id="cell-80" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>df_21 <span class="op">=</span> election_results[<span class="st">'df_21'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-81" class="cell" data-outputid="2e246aac-9151-4b1b-c8aa-a44c03b64224" data-execution_count="56">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>df_21</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">

  <div id="df-c571663b-7463-40e2-9518-9394cfbd0421" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">시도</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">보수정당_후보자수</th>
<th data-quarto-table-cell-role="th">진보정당_후보자수</th>
<th data-quarto-table-cell-role="th">그외정당_후보자수</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>44391871</td>
<td>35236497</td>
<td>14395639</td>
<td>17287513</td>
<td>3261673</td>
<td>35791</td>
<td>34980616</td>
<td>255881</td>
<td>...</td>
<td>1</td>
<td>0.494203</td>
<td>2</td>
<td>0.411532</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울특별시</td>
<td>합계</td>
<td>8293885</td>
<td>6641606</td>
<td>2738405</td>
<td>3105459</td>
<td>739246</td>
<td>5998</td>
<td>6589108</td>
<td>52498</td>
<td>...</td>
<td>1</td>
<td>0.471302</td>
<td>2</td>
<td>0.415596</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울특별시</td>
<td>종로구</td>
<td>125901</td>
<td>99261</td>
<td>39574</td>
<td>47735</td>
<td>11080</td>
<td>89</td>
<td>98478</td>
<td>783</td>
<td>...</td>
<td>1</td>
<td>0.484728</td>
<td>2</td>
<td>0.401856</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울특별시</td>
<td>중구</td>
<td>110181</td>
<td>87166</td>
<td>36302</td>
<td>40482</td>
<td>9570</td>
<td>62</td>
<td>86416</td>
<td>750</td>
<td>...</td>
<td>1</td>
<td>0.468455</td>
<td>2</td>
<td>0.420084</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울특별시</td>
<td>용산구</td>
<td>183614</td>
<td>143813</td>
<td>67927</td>
<td>58705</td>
<td>15960</td>
<td>102</td>
<td>142694</td>
<td>1119</td>
<td>...</td>
<td>2</td>
<td>0.476033</td>
<td>1</td>
<td>0.411405</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">266</td>
<td>경상남도</td>
<td>거창군</td>
<td>52316</td>
<td>41373</td>
<td>25259</td>
<td>12623</td>
<td>2972</td>
<td>65</td>
<td>40919</td>
<td>454</td>
<td>...</td>
<td>2</td>
<td>0.617293</td>
<td>1</td>
<td>0.308487</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">267</td>
<td>경상남도</td>
<td>합천군</td>
<td>37329</td>
<td>28935</td>
<td>20132</td>
<td>7001</td>
<td>1388</td>
<td>46</td>
<td>28567</td>
<td>368</td>
<td>...</td>
<td>2</td>
<td>0.704729</td>
<td>1</td>
<td>0.245073</td>
<td>보수정당</td>
<td>진보정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">268</td>
<td>제주특별자치도</td>
<td>합계</td>
<td>565255</td>
<td>421576</td>
<td>145290</td>
<td>228729</td>
<td>43100</td>
<td>528</td>
<td>417647</td>
<td>3929</td>
<td>...</td>
<td>1</td>
<td>0.547661</td>
<td>2</td>
<td>0.347878</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">269</td>
<td>제주특별자치도</td>
<td>제주시</td>
<td>409912</td>
<td>306685</td>
<td>102224</td>
<td>169119</td>
<td>32148</td>
<td>384</td>
<td>303875</td>
<td>2810</td>
<td>...</td>
<td>1</td>
<td>0.556541</td>
<td>2</td>
<td>0.336401</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">270</td>
<td>제주특별자치도</td>
<td>서귀포시</td>
<td>155343</td>
<td>114891</td>
<td>43066</td>
<td>59610</td>
<td>10952</td>
<td>144</td>
<td>113772</td>
<td>1119</td>
<td>...</td>
<td>1</td>
<td>0.523943</td>
<td>2</td>
<td>0.378529</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>

<p>271 rows × 21 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c571663b-7463-40e2-9518-9394cfbd0421')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c571663b-7463-40e2-9518-9394cfbd0421 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c571663b-7463-40e2-9518-9394cfbd0421');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-11575d2c-7710-4a5b-873b-8f8024ec9aff">
      <button class="colab-df-quickchart" onclick="quickchart('df-11575d2c-7710-4a5b-873b-8f8024ec9aff')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-11575d2c-7710-4a5b-873b-8f8024ec9aff button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_88a16f80-26be-49b0-a828-45d838c45e70">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_21')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_88a16f80-26be-49b0-a828-45d838c45e70 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_21');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
<section id="preprocessing-7" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing-7">preprocessing</h2>
<div id="cell-83" class="cell" data-outputid="451e1ea9-a439-43d4-e111-fad47bb86122" data-execution_count="57">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>df_21[<span class="st">'시도'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>array(['전국', '서울특별시', '부산광역시', '대구광역시', '인천광역시', '광주광역시', '대전광역시',
       '울산광역시', '세종특별자치시', '경기도', '강원특별자치도', '충청북도', '충청남도', '전북특별자치도',
       '전라남도', '경상북도', '경상남도', '제주특별자치도'], dtype=object)</code></pre>
</div>
</div>
<div id="cell-84" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 지역명 매핑 딕셔너리 정의</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>region_mapping <span class="op">=</span> {</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'서울특별시'</span>: <span class="st">'서울'</span>,</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'부산광역시'</span>: <span class="st">'부산'</span>,</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대구광역시'</span>: <span class="st">'대구'</span>,</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'인천광역시'</span>: <span class="st">'인천'</span>,</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'광주광역시'</span>: <span class="st">'광주'</span>,</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'대전광역시'</span>: <span class="st">'대전'</span>,</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'울산광역시'</span>: <span class="st">'울산'</span>,</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'세종특별자치시'</span>: <span class="st">'세종'</span>,</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경기도'</span>: <span class="st">'경기'</span>,</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'강원특별자치도'</span>: <span class="st">'강원'</span>,</span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청북도'</span>: <span class="st">'충북'</span>,</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'충청남도'</span>: <span class="st">'충남'</span>,</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'전북특별자치도'</span>: <span class="st">'전북'</span>,</span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'전라남도'</span>: <span class="st">'전남'</span>,</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경상북도'</span>: <span class="st">'경북'</span>,</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'경상남도'</span>: <span class="st">'경남'</span>,</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'제주특별자치도'</span>: <span class="st">'제주'</span></span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. 지역명 변경</span></span>
<span id="cb74-23"><a href="#cb74-23" aria-hidden="true" tabindex="-1"></a>df_21 <span class="op">=</span> df_21.replace({<span class="st">'시도'</span>: region_mapping})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-85" class="cell" data-outputid="36cf8cf4-3468-4804-a2a5-5a91a8362dfa" data-execution_count="59">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>df_21.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>Index(['시도', '구시군', '선거인수', '투표수', '보수정당', '진보정당', '그외정당', '무소속', '득표수_계',
       '무효투표수', '기권수', '득표_1위_후보번호', '득표_1위_득표율', '득표_2위_후보번호', '득표_2위_득표율',
       '득표_1위_정당', '득표_2위_정당', '보수정당_후보자수', '진보정당_후보자수', '그외정당_후보자수',
       '무소속_후보자수'],
      dtype='object')</code></pre>
</div>
</div>
<div id="cell-86" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 고정 열 순서 정의</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>fixed_cols <span class="op">=</span> [</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'시도'</span>, <span class="st">'구시군'</span>, <span class="st">'선거년도'</span>, <span class="st">'선거종류'</span>,</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_정당'</span>, <span class="st">'득표_2위_정당'</span>,</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_1위_후보번호'</span>, <span class="st">'득표_1위_득표율'</span>,</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'득표_2위_후보번호'</span>, <span class="st">'득표_2위_득표율'</span>,</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'보수정당_후보자수'</span>, <span class="st">'진보정당_후보자수'</span>,</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'그외정당_후보자수'</span>, <span class="st">'무소속_후보자수'</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 나머지 열: fixed_cols에 포함되지 않은 열</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>other_cols <span class="op">=</span> [col <span class="cf">for</span> col <span class="kw">in</span> df_21.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> fixed_cols]</span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 메소드 체이닝</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>df_21 <span class="op">=</span> (</span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a>    df_21</span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a>    .assign(선거종류<span class="op">=</span><span class="st">'대통령'</span>, 선거년도<span class="op">=</span><span class="st">'2025'</span>)</span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a>    .loc[:, fixed_cols <span class="op">+</span> other_cols]</span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a>    .rename(columns<span class="op">=</span>{<span class="st">'시도'</span>: <span class="st">'지역'</span>})</span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-87" class="cell" data-outputid="d7d5f541-ffb7-4c80-b83e-c68abd46567e" data-execution_count="61">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>df_21</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">

  <div id="df-55dc7d3c-5505-4806-a567-5a81b3dc5b0a" class="colab-df-container">
    <div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">지역</th>
<th data-quarto-table-cell-role="th">구시군</th>
<th data-quarto-table-cell-role="th">선거년도</th>
<th data-quarto-table-cell-role="th">선거종류</th>
<th data-quarto-table-cell-role="th">득표_1위_정당</th>
<th data-quarto-table-cell-role="th">득표_2위_정당</th>
<th data-quarto-table-cell-role="th">득표_1위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_1위_득표율</th>
<th data-quarto-table-cell-role="th">득표_2위_후보번호</th>
<th data-quarto-table-cell-role="th">득표_2위_득표율</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">무소속_후보자수</th>
<th data-quarto-table-cell-role="th">선거인수</th>
<th data-quarto-table-cell-role="th">투표수</th>
<th data-quarto-table-cell-role="th">보수정당</th>
<th data-quarto-table-cell-role="th">진보정당</th>
<th data-quarto-table-cell-role="th">그외정당</th>
<th data-quarto-table-cell-role="th">무소속</th>
<th data-quarto-table-cell-role="th">득표수_계</th>
<th data-quarto-table-cell-role="th">무효투표수</th>
<th data-quarto-table-cell-role="th">기권수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>전국</td>
<td>합계</td>
<td>2025</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.494203</td>
<td>2</td>
<td>0.411532</td>
<td>...</td>
<td>1</td>
<td>44391871</td>
<td>35236497</td>
<td>14395639</td>
<td>17287513</td>
<td>3261673</td>
<td>35791</td>
<td>34980616</td>
<td>255881</td>
<td>9155374</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>서울</td>
<td>합계</td>
<td>2025</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.471302</td>
<td>2</td>
<td>0.415596</td>
<td>...</td>
<td>1</td>
<td>8293885</td>
<td>6641606</td>
<td>2738405</td>
<td>3105459</td>
<td>739246</td>
<td>5998</td>
<td>6589108</td>
<td>52498</td>
<td>1652279</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>서울</td>
<td>종로구</td>
<td>2025</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.484728</td>
<td>2</td>
<td>0.401856</td>
<td>...</td>
<td>1</td>
<td>125901</td>
<td>99261</td>
<td>39574</td>
<td>47735</td>
<td>11080</td>
<td>89</td>
<td>98478</td>
<td>783</td>
<td>26640</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>서울</td>
<td>중구</td>
<td>2025</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.468455</td>
<td>2</td>
<td>0.420084</td>
<td>...</td>
<td>1</td>
<td>110181</td>
<td>87166</td>
<td>36302</td>
<td>40482</td>
<td>9570</td>
<td>62</td>
<td>86416</td>
<td>750</td>
<td>23015</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>서울</td>
<td>용산구</td>
<td>2025</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.476033</td>
<td>1</td>
<td>0.411405</td>
<td>...</td>
<td>1</td>
<td>183614</td>
<td>143813</td>
<td>67927</td>
<td>58705</td>
<td>15960</td>
<td>102</td>
<td>142694</td>
<td>1119</td>
<td>39801</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">266</td>
<td>경남</td>
<td>거창군</td>
<td>2025</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.617293</td>
<td>1</td>
<td>0.308487</td>
<td>...</td>
<td>1</td>
<td>52316</td>
<td>41373</td>
<td>25259</td>
<td>12623</td>
<td>2972</td>
<td>65</td>
<td>40919</td>
<td>454</td>
<td>10943</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">267</td>
<td>경남</td>
<td>합천군</td>
<td>2025</td>
<td>대통령</td>
<td>보수정당</td>
<td>진보정당</td>
<td>2</td>
<td>0.704729</td>
<td>1</td>
<td>0.245073</td>
<td>...</td>
<td>1</td>
<td>37329</td>
<td>28935</td>
<td>20132</td>
<td>7001</td>
<td>1388</td>
<td>46</td>
<td>28567</td>
<td>368</td>
<td>8394</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">268</td>
<td>제주</td>
<td>합계</td>
<td>2025</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.547661</td>
<td>2</td>
<td>0.347878</td>
<td>...</td>
<td>1</td>
<td>565255</td>
<td>421576</td>
<td>145290</td>
<td>228729</td>
<td>43100</td>
<td>528</td>
<td>417647</td>
<td>3929</td>
<td>143679</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">269</td>
<td>제주</td>
<td>제주시</td>
<td>2025</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.556541</td>
<td>2</td>
<td>0.336401</td>
<td>...</td>
<td>1</td>
<td>409912</td>
<td>306685</td>
<td>102224</td>
<td>169119</td>
<td>32148</td>
<td>384</td>
<td>303875</td>
<td>2810</td>
<td>103227</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">270</td>
<td>제주</td>
<td>서귀포시</td>
<td>2025</td>
<td>대통령</td>
<td>진보정당</td>
<td>보수정당</td>
<td>1</td>
<td>0.523943</td>
<td>2</td>
<td>0.378529</td>
<td>...</td>
<td>1</td>
<td>155343</td>
<td>114891</td>
<td>43066</td>
<td>59610</td>
<td>10952</td>
<td>144</td>
<td>113772</td>
<td>1119</td>
<td>40452</td>
</tr>
</tbody>
</table>

<p>271 rows × 23 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-55dc7d3c-5505-4806-a567-5a81b3dc5b0a')" title="Convert this dataframe to an interactive table." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"></path>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-55dc7d3c-5505-4806-a567-5a81b3dc5b0a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-55dc7d3c-5505-4806-a567-5a81b3dc5b0a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-347f9261-e226-46c8-9565-cbeadacd7f1b">
      <button class="colab-df-quickchart" onclick="quickchart('df-347f9261-e226-46c8-9565-cbeadacd7f1b')" title="Suggest charts" style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-347f9261-e226-46c8-9565-cbeadacd7f1b button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_942458d5-8cc1-4999-8821-3cf54108f1ec">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df_21')" title="Generate code using this dataframe." style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"></path>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_942458d5-8cc1-4999-8821-3cf54108f1ec button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df_21');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div>
</div>
</section>
<section id="v4.1-v4.3-7" class="level2">
<h2 class="anchored" data-anchor-id="v4.1-v4.3-7">v4.1 ~ v4.3</h2>
<div id="cell-89" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. 전체 데이터 저장</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>df_21.to_csv(<span class="st">"temp4_1_president_21.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. '구시군' != '합계' 행만 추출하여 저장</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>    df_21</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 != '합계'"</span>)</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_2_president_21.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. '구시군' == '합계' 행만 추출 후 '구시군' 열 제거하여 저장</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>    df_21</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>    .query(<span class="st">"구시군 == '합계'"</span>)</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>    .drop(columns<span class="op">=</span><span class="st">"구시군"</span>)</span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>    .to_csv(<span class="st">"temp4_3_president_21.csv"</span>, index<span class="op">=</span><span class="va">False</span>, encoding<span class="op">=</span><span class="st">"utf-8-sig"</span>)</span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="batch-csv-files-to-zip" class="level1">
<h1>Batch CSV Files to ZIP</h1>
<div id="cell-91" class="cell" data-outputid="f7383bea-f2a6-40fc-ea49-5edc6aa5ba6c" data-execution_count="63">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> zipfile</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all CSV files in current directory</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>csv_files <span class="op">=</span> glob.glob(<span class="st">'*.csv'</span>)</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create ZIP file</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> zipfile.ZipFile(<span class="st">'all_csv_files.zip'</span>, <span class="st">'w'</span>) <span class="im">as</span> zipf:</span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span> <span class="bu">file</span> <span class="kw">in</span> csv_files:</span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>       zipf.write(<span class="bu">file</span>)</span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>       <span class="bu">print</span>(<span class="ss">f"Added: </span><span class="sc">{</span><span class="bu">file</span><span class="sc">}</span><span class="ss">"</span>)  <span class="co"># Show progress</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Total </span><span class="sc">{</span><span class="bu">len</span>(csv_files)<span class="sc">}</span><span class="ss"> files compressed."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Added: temp4_1_president_18.csv
Added: temp4_3_president_18.csv
Added: temp4_2_president_16.csv
Added: temp4_2_president_14.csv
Added: temp4_1_president_17.csv
Added: temp4_2_president_18.csv
Added: temp4_3_president_20.csv
Added: temp4_1_president_21.csv
Added: temp4_2_president_21.csv
Added: temp4_3_president_21.csv
Added: temp4_2_president_20.csv
Added: temp4_3_president_19.csv
Added: temp4_3_president_17.csv
Added: temp4_1_president_19.csv
Added: temp4_3_president_16.csv
Added: temp4_3_president_15.csv
Added: temp4_1_president_16.csv
Added: temp4_2_president_17.csv
Added: temp4_1_president_20.csv
Added: temp4_1_president_14.csv
Added: temp4_2_president_15.csv
Added: temp4_1_president_15.csv
Added: temp4_2_president_19.csv
Added: temp4_3_president_14.csv
Total 24 files compressed.</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>